!function(e){function t(t){for(var r,o,i=t[0],a=t[1],l=t[2],c=0,u=[];c<i.length;c++)o=i[c],Object.prototype.hasOwnProperty.call(M,o)&&M[o]&&u.push(M[o][0]),M[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(D&&D(t);u.length;)u.shift()();return x.push.apply(x,l||[]),n()}function n(){for(var e,t=0;t<x.length;t++){for(var n=x[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==M[i]&&(r=!1)}r&&(x.splice(t--,1),e=k(k.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!O[e]||!E[e])return;for(var n in E[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n]);0==--b&&0===_&&C()}(e,t),r&&r(e,t)};var o,i=!0,a="0a9c58ff05a7cd85046e",l=1e4,c={},u=[],s=[];function d(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:o!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:S,apply:j,status:function(e){if(!e)return p;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:c[e]};return o=void 0,t}var f=[],p="idle";function m(e){p=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var h,v,y,b=0,_=0,g={},E={},O={};function P(e){return+e+""===e?+e:e}function S(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return i=e,m("check"),(t=l,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=k.p+""+a+".hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return m("idle"),null;E={},g={},O=e.c,y=e.h,m("prepare");var t=new Promise((function(e,t){h={resolve:e,reject:t}}));for(var n in v={},M)w(n);return"prepare"===p&&0===_&&0===b&&C(),t}));var t}function w(e){O[e]?(E[e]=!0,b++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=k.p+""+e+"."+a+".hot-update.js",document.head.appendChild(t)}(e)):g[e]=!0}function C(){m("ready");var e=h;if(h=null,e)if(i)Promise.resolve().then((function(){return j(i)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&t.push(P(n));e.resolve(t)}}function j(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var n,r,o,i,l;function s(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),a=o.id,l=o.chain;if((i=A[a])&&!i.hot._selfAccepted){if(i.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:a};if(i.hot._main)return{type:"unaccepted",chain:l,moduleId:a};for(var c=0;c<i.parents.length;c++){var u=i.parents[c],s=A[u];if(s){if(s.hot._declinedDependencies[a])return{type:"declined",chain:l.concat([u]),moduleId:a,parentId:u};-1===t.indexOf(u)&&(s.hot._acceptedDependencies[a]?(n[u]||(n[u]=[]),d(n[u],[a])):(delete n[u],t.push(u),r.push({chain:l.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var f={},h=[],b={},_=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var g in v)if(Object.prototype.hasOwnProperty.call(v,g)){var E;l=P(g);var S=!1,w=!1,C=!1,j="";switch((E=v[g]?s(l):{type:"disposed",moduleId:g}).chain&&(j="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(S=new Error("Aborted because of self decline: "+E.moduleId+j));break;case"declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(S=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+j));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(E),t.ignoreUnaccepted||(S=new Error("Aborted because "+l+" is not accepted"+j));break;case"accepted":t.onAccepted&&t.onAccepted(E),w=!0;break;case"disposed":t.onDisposed&&t.onDisposed(E),C=!0;break;default:throw new Error("Unexception type "+E.type)}if(S)return m("abort"),Promise.reject(S);if(w)for(l in b[l]=v[l],d(h,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,l)&&(f[l]||(f[l]=[]),d(f[l],E.outdatedDependencies[l]));C&&(d(h,[E.moduleId]),b[l]=_)}var x,F=[];for(r=0;r<h.length;r++)l=h[r],A[l]&&A[l].hot._selfAccepted&&b[l]!==_&&F.push({module:l,errorHandler:A[l].hot._selfAccepted});m("dispose"),Object.keys(O).forEach((function(e){!1===O[e]&&function(e){delete M[e]}(e)}));for(var T,I,D=h.slice();D.length>0;)if(l=D.pop(),i=A[l]){var R={},N=i.hot._disposeHandlers;for(o=0;o<N.length;o++)(n=N[o])(R);for(c[l]=R,i.hot.active=!1,delete A[l],delete f[l],o=0;o<i.children.length;o++){var B=A[i.children[o]];B&&((x=B.parents.indexOf(l))>=0&&B.parents.splice(x,1))}}for(l in f)if(Object.prototype.hasOwnProperty.call(f,l)&&(i=A[l]))for(I=f[l],o=0;o<I.length;o++)T=I[o],(x=i.children.indexOf(T))>=0&&i.children.splice(x,1);for(l in m("apply"),a=y,b)Object.prototype.hasOwnProperty.call(b,l)&&(e[l]=b[l]);var G=null;for(l in f)if(Object.prototype.hasOwnProperty.call(f,l)&&(i=A[l])){I=f[l];var V=[];for(r=0;r<I.length;r++)if(T=I[r],n=i.hot._acceptedDependencies[T]){if(-1!==V.indexOf(n))continue;V.push(n)}for(r=0;r<V.length;r++){n=V[r];try{n(I)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:l,dependencyId:I[r],error:e}),t.ignoreErrored||G||(G=e)}}}for(r=0;r<F.length;r++){var W=F[r];l=W.module,u=[l];try{k(l)}catch(e){if("function"==typeof W.errorHandler)try{W.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:n,originalError:e}),t.ignoreErrored||G||(G=n),G||(G=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:l,error:e}),t.ignoreErrored||G||(G=e)}}return G?(m("fail"),Promise.reject(G)):(m("idle"),new Promise((function(e){e(h)})))}var A={},M={0:0},x=[];function k(t){if(A[t])return A[t].exports;var n=A[t]={i:t,l:!1,exports:{},hot:d(t),parents:(s=u,u=[],s),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=A[e];if(!t)return k;var n=function(n){return t.hot.active?(A[n]?-1===A[n].parents.indexOf(e)&&A[n].parents.push(e):(u=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),u=[]),k(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return k[e]},set:function(t){k[e]=t}}};for(var i in k)Object.prototype.hasOwnProperty.call(k,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,r(i));return n.e=function(e){return"ready"===p&&m("prepare"),_++,k.e(e).then(t,(function(e){throw t(),e}));function t(){_--,"prepare"===p&&(g[e]||w(e),0===_&&0===b&&C())}},n.t=function(e,t){return 1&t&&(e=n(e)),k.t(e,-2&t)},n}(t)),n.l=!0,n.exports}k.m=e,k.c=A,k.d=function(e,t,n){k.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},k.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},k.t=function(e,t){if(1&t&&(e=k(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(k.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)k.d(n,r,function(t){return e[t]}.bind(null,r));return n},k.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return k.d(t,"a",t),t},k.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},k.p="/beta/apps/custom-policies/",k.h=function(){return a};var F=window.webpackJsonp=window.webpackJsonp||[],T=F.push.bind(F);F.push=t,F=F.slice();for(var I=0;I<F.length;I++)t(F[I]);var D=T;x.push([353,1]),n()}({103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(616);t.Checkbox=r.Checkbox;var o=n(617);t.FormSelect=o.FormSelect;var i=n(618);t.Switch=i.Switch;var a=n(619);t.FormTextInput=a.FormTextInput},104:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(114),i=r(n(87)),a=n(620),l=n(87);t.PolicyFormDetails=i.object().shape({description:i.string().notRequired().trim(),isEnabled:i.boolean().notRequired(),name:i.string().required("Write a name for this Custom policy").trim()}),t.PolicyFormActions=i.object().shape({actions:i.array(i.lazy((function(e){switch(e.type){case o.ActionType.EMAIL:return a.ActionEmailSchema;case o.ActionType.WEBHOOK:return a.ActionWebhookSchema;case void 0:return a.ActionSchema}throw new Error("Unknown action type. Implement the new type in the schema selector")}))).test("one-email","Only one Email action type is allowed",(function(e){var t=e&&e.reduce((function(e,t,n){return t.type===o.ActionType.EMAIL?e.concat([n]):e}),[]);if(!t||t.length<=1)return!0;var n=new l.ValidationError("","","actions","");return n.inner=t.map((function(e){return new l.ValidationError("Only one Email action is allowed","email","actions."+e+".type")})),n}))}),t.PolicyFormConditions=i.object().shape({conditions:i.string().required("Write a condition").trim()}),t.PolicyFormSchema=i.object().concat(t.PolicyFormDetails).concat(t.PolicyFormActions).concat(t.PolicyFormConditions)},114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(506);t.ActionType=r.ActionType},115:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=r(n(87));t.AlwaysValid=i.object(),function(e){e.SAVE="CREATE",e.VERIFY="VERIFY",e.NONE="NONE"}(t.WizardActionType||(t.WizardActionType={})),t.WizardContext=o.createContext({isLoading:!1,isFormValid:!1,triggerAction:function(){throw Error("Action executed without WizardContext")},verifyResponse:{isValid:!1}})},125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onChangePFAdapter=function(e){return function(t,n){return e.onChange(n)}},t.onChangePFAdapterCheckbox=function(e){return function(t,n){return(0,e.onChange)(t,n.target.name)}}},227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return"/api/custom-policies/v1.0/"+e},o={appId:"custom-policies",apis:{version:"v1.0",urls:{base:"/api/custom-policies/v1.0",facts:r("facts"),policies:r("policies"),customerPolicy:function(e){return r("policies/"+e)}}}};t.default=o},228:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2));t.RbacContext=o.createContext({canReadAll:!1,canWriteAll:!1})},239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=10,o=function(){function e(e,t,n){this.index=e,this.size=t||r,this.sort=n}return e.of=function(t,n,r){return new e(t,n,r)},e.defaultPage=function(){return new e(1,r)},e}();t.Page=o;var i=function(){function e(e,t){this.column=e,this.direction=t}return e.by=function(t,n){return new e(t,n)},e}();t.Sort=i,function(e){e.ASCENDING="ASC",e.DESCENDING="DESC"}(t.Direction||(t.Direction={}))},241:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(227)),a=n(273),l=n(239),c=n(505),u=n(507),s=i.default.apis.urls,d=function(e,t,n,r){return{method:e,endpoint:t+(n?"?"+new URLSearchParams(n).toString():""),body:r}},f=function(e,t,n,r,o){return a.useQuery(d(e,t,r,o),n)},p=function(e,t,n,o,i,a){var c,u=f(e,t,o,function(e,t){return t||(t=l.Page.defaultPage()),e||(e={}),e.page=t.index-1,e.pageSize=t.size,t.sort&&(e.sortColumn=t.sort.column,e.sortDirection=t.sort.direction),e}(i,n),a),s=null===(c=u.headers)||void 0===c?void 0:c.get("TotalCount");return r({count:s?+s:s},u)};t.useGetFactsQuery=function(e){return f("GET",s.facts,e)},t.useGetPoliciesQuery=function(e,t){return u.useTransformPaginatedQueryResponse(p("GET",s.policies,e,t),c.toPolicies)},t.useCreatePolicyMutation=function(){return a.useMutation((function(e){return d("POST",s.policies,{alsoStore:!0},c.toServerPolicy(e))}))},t.useVerifyPolicyMutation=function(){return a.useMutation((function(e){return d("POST",s.policies,{alsoStore:!1},c.toServerPolicy(e))}))},t.useGetCustomerPolicyQuery=function(e,t){return f("GET",s.customerPolicy(e),t)}},258:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)r[o]=i[a];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,a=o(n(360)),l=o(n(691)),c=n(147);t.init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(i)throw new Error("store already initialized");return(i=new a.default({},r([l.default()],e))).register({notifications:c.notifications}),i},t.getStore=function(){return i.getStore()},t.register=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.register.apply(i,e)}},289:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=n(690),l=n(23),c=n(229),u=n(11),s=n(239),d=n(493),f=function(e){return i.createElement(i.Fragment,null,i.createElement(l.EmptyStateIcon,{icon:e.icon}),i.createElement(l.Title,{size:"lg"},e.title),i.createElement(l.EmptyStateBody,null,e.content))},p=function(e,t,n){return t.indexOf(n[e])+2};t.PolicyTable=function(e){var t=i.useState({}),n=t[0],o=t[1];i.useEffect((function(){e.policies?o(e.policies.reduce((function(e,t){return t.id&&(e[t.id]={isOpen:!1,isSelected:!1}),e}),{})):o({})}),[e.policies]);var m=e.onSort?[a.sortable]:[],h={name:{title:"Name",transforms:m,cellFormatters:[a.expandable],column:"name"},actions:{title:"Actions",transforms:[]},is_enabled:{title:"Is active?",transforms:m,column:"is_enabled"}},v=Object.values(h),y=e.onSort,b=i.useCallback((function(e,t,n){if(y){var r=function(e,t){return t[e-2].column}(t,v);r&&y(t,r,n===a.SortByDirection.asc?s.Direction.ASCENDING:s.Direction.DESCENDING)}}),[y,v]),_=i.useCallback((function(e,t,i,a){if(n[a.id].isOpen!==i){var l=r({},n);l[a.id]=r(r({},l[a.id]),{isOpen:i}),o(l)}}),[n,o]),g=i.useMemo((function(){if(e.sortBy)return{index:p(e.sortBy.column,v,h),direction:e.sortBy.direction===s.Direction.ASCENDING?"asc":"desc"}}),[e.sortBy,v,h]),E=e.error||e.loading?[]:e.actions||[],O=e.error?function(e){return[{heightAuto:!0,showSelect:!1,cells:[{props:{colSpan:8},title:i.createElement(l.Bullseye,null,i.createElement(l.EmptyState,{variant:l.EmptyStateVariant.small},i.createElement(f,r({},e))))}]}]}(e.error):function(e,t){return e?e.reduce((function(e,n,r){var o=n.id&&t[n.id]||{isOpen:!0,isSelected:!1};return e.push({id:n.id,isOpen:o.isOpen,selected:o.isSelected,cells:[n.name,n.actions,n.isEnabled?i.createElement(i.Fragment,null,i.createElement(u.CheckCircleIcon,{color:"green"})):null]}),e.push({parent:2*r,fullWidth:!0,showSelect:!1,cells:[i.createElement(i.Fragment,null,i.createElement(d.ExpandedContent,{key:n.id,description:n.description,conditions:n.conditions,actions:n.actions,created:new Date(2020,1,19),updated:n.mtime}))]}),e}),[]):[]}(e.policies,n);return e.loading?i.createElement(c.SkeletonTable,{rowSize:10,columns:v}):i.createElement(a.Table,{"aria-label":"Custom policies",cells:v,rows:O,actionResolver:function(e){return void 0===e.parent?E:[]},onSelect:e.error?void 0:function(e,t,i,a){if(n[a.id].isSelected!==t){var l=r({},n);l[a.id]=r(r({},l[a.id]),{isSelected:t}),o(l)}},onSort:b,onCollapse:_,sortBy:g,canSelectAll:!1},i.createElement(a.TableHeader,null),i.createElement(a.TableBody,null))}},294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalBackgroundColor100="#fff",t.GlobalBackgroundColor150="#f5f5f5",t.GlobalBackgroundColor200="#fafafa",t.GlobalBackgroundColor300="#ededed",t.GlobalBackgroundColorDark100="#151515",t.GlobalBackgroundColorDark200="#3c3f42",t.GlobalBackgroundColorDark300="#212427",t.GlobalBackgroundColorDark400="#4f5255",t.GlobalBackgroundColorLight100="#fff",t.GlobalBackgroundColorLight200="#fafafa",t.GlobalBackgroundColorLight300="#ededed",t.GlobalDangerColor100="#c9190b",t.GlobalDangerColor200="#a30000",t.GlobalDangerColor300="#470000",t.GlobalSuccessColor100="#92d400",t.GlobalSuccessColor200="#486b00"},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o={icon:r.ExclamationCircleIcon,title:"No permission to view this page",content:"You do not have permission to view this page"};t.policyTableError=function(e,t,n){if(!e)return o;if(t)switch(n){case 404:return{icon:r.ExclamationCircleIcon,title:"Not found",content:"The request did not provide any results, try to remove some filters and try again"};case 401:return{icon:r.ExclamationCircleIcon,title:"Refresh your brower",content:"Your session expired while using the application, Refresh your browser and try again"};case 403:return o;case 500:return{icon:r.ExclamationCircleIcon,title:"Internal server error",content:"The server was unable to process the request, please try again."};default:return{icon:r.ExclamationCircleIcon,title:"Unable to connect",content:"There was an error retrieving data. Check your connection and try again."}}}},324:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(114),i=n(23),a=r(n(2)),l=n(11),c=n(103),u=n(626);t.ActionsForm=function(e){var t;return a.createElement(a.Fragment,null,a.createElement(i.Title,{headingLevel:"h4",size:"2xl"},"Actions"),null===(t=e.actions)||void 0===t?void 0:t.map((function(t,n){return a.createElement(a.Fragment,{key:n},a.createElement(i.Card,null,a.createElement(i.CardHead,null,a.createElement(i.CardActions,null,a.createElement(i.Button,{variant:"plain","aria-label":"Action",onClick:e.arrayHelpers.handleRemove(n)},a.createElement(l.TimesIcon,null))),a.createElement(i.CardHeader,null,"Action #",n+1)),a.createElement(i.CardBody,{className:"pf-c-form"},a.createElement(c.FormSelect,{isDisabled:e.isReadOnly,id:"actions."+n+".type",name:"actions."+n+".type",label:"Type"},a.createElement(i.FormSelectOption,{value:"",label:"Select an Action type"}),Object.values(o.ActionType).map((function(e){return a.createElement(i.FormSelectOption,{key:e,label:i.capitalize(e),value:e})}))),a.createElement(u.ActionForm,{isReadOnly:e.isReadOnly,action:t,prefix:"actions."+n}))))})),a.createElement(i.ActionGroup,null,!e.isReadOnly&&a.createElement(i.Button,{variant:"primary",onClick:e.arrayHelpers.handlePush({})},"+ Add action")))}},340:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=n(273),l=n(278),c=n(147),u=o(n(227)),s=n(446),d=n(228),f=n(472),p=n(687);n(688);t.default=l.withRouter((function(e){var t=i.useState(void 0)[1],n=i.useState(void 0),r=n[0],o=n[1];return i.useEffect((function(){return insights.chrome.init(),insights.chrome.identifyApp(u.default.appId),function(){insights.chrome.on("APP_NAVIGATION",(function(t){return e.history.push("/"+t.navId)}))}}),[e.history]),i.useEffect((function(){insights.chrome.auth.getUser().then((function(e){t({accountNumber:e.identity.account_number,username:e.identity.username}),s.fetchRBAC().then(o)}))}),[]),r?i.createElement(a.ClientContextProvider,{client:a.createClient()},i.createElement(d.RbacContext.Provider,{value:r},i.createElement(c.NotificationsPortal,null),i.createElement(f.Routes,null))):i.createElement(p.AppSkeleton,null)}))},350:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="/",n=e.split("/");return n.shift(),"beta"===n[0]&&(n.shift(),t="/beta/"),""+t+n[0]+"/"+(n[1]||"")}},353:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),i=n(24),a=n.n(i),l=n(261),c=n(136),u=n(258),s=n(340),d=n.n(s),f=n(350),p=n.n(f);a.a.render(o.a.createElement(c.Provider,{store:Object(u.init)().getStore()},o.a.createElement(l.a,{basename:p()(window.location.pathname)},o.a.createElement(d.a,null))),document.getElementById("root"))},446:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(447),i=r(n(279)),a=r(n(227)),l=function(){function e(e){this.accessPagination=e}return e.prototype.canRead=function(e){return this.findPermission(e,"read")},e.prototype.canWrite=function(e){return this.findPermission(e,"write")},e.prototype.canReadAll=function(){return this.canRead("*")},e.prototype.canWriteAll=function(){return this.canWrite("*")},e.prototype.findPermission=function(e,t){var n;if(!(null===(n=this.accessPagination)||void 0===n?void 0:n.data)||0===this.accessPagination.data.length)return!1;for(var r=0,o=this.accessPagination.data;r<o.length;r++){var i=o[r].permission.split(":");if(i[1]===e&&(i[2]===t||"*"===i[2]))return!0}return!1},e}();t.fetchRBAC=function(){var e=i.default.create();return new o.AccessApi(void 0,"/api/rbac/v1",e).getPrincipalAccess(a.default.appId).then((function(e){return new l(e.data)})).then((function(e){return{canReadAll:e.canReadAll(),canWriteAll:e.canWriteAll()}}))}},472:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(2)),c=n(278),u=[{path:"/list",component:a(n(473)).default,rootClass:"list"}],s=function(e){var t=e.rootClass,n=o(e,["rootClass"]),i=document.getElementById("root");if(!i)throw new Error("Root element not found");return i.removeAttribute("class"),i.classList.add("page__"+t,"pf-c-page__main"),i.setAttribute("role","main"),l.createElement(c.Route,r({},n))};t.Routes=function(){return l.createElement(c.Switch,null,u.map((function(e){return l.createElement(s,{key:e.path,rootClass:e.rootClass,component:e.component,path:e.path})})),l.createElement(c.Redirect,{to:"/list"}))}},473:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=n(2),a=n(229),l=n(289),c=n(241),u=n(239),s=n(508),d=n(513),f=n(228),p=n(323),m=[{title:"Edit",onClick:function(){return alert("Edit")}},{title:"Duplicate",onClick:function(){return alert("Duplicate")}},{title:"Delete",onClick:function(){return alert("Delete")}}];t.default=function(e){var t=o.useState(1),n=t[0],r=t[1],h=o.useState(u.Page.defaultPage().size),v=h[0],y=h[1],b=o.useState(),_=b[0],g=b[1],E=o.useState(!1),O=E[0],P=E[1],S=c.useGetPoliciesQuery(u.Page.of(n,v,_),!1),w=i.useContext(f.RbacContext),C=w.canReadAll,j=w.canWriteAll,A=S.query;o.useEffect((function(){C&&A()}),[C,A]);return o.createElement(o.Fragment,null,o.createElement(a.PageHeader,null,o.createElement(a.PageHeaderTitle,{title:"Custom policies"})),o.createElement(a.Main,null,o.createElement(a.Section,null,o.createElement(s.PolicyToolbar,{onCreatePolicy:j?function(){P(!0)}:void 0,onPaginationChanged:function(e,t){r(t)},onPaginationSizeChanged:function(e,t){r(1),y(t)},page:n,perPage:v,count:S.count}),o.createElement(l.PolicyTable,{policies:S.payload,actions:m,loading:S.loading,error:p.policyTableError(C,S.error,S.status),onSort:function(e,t,n){g(u.Sort.by(t,n))},sortBy:_}))),o.createElement(d.CreatePolicyWizard,{close:function(e){e&&S.query(),P(!1)},isOpen:O}))}},493:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=n(55),l=n(23),c=n(494),u=n(495),s=n(496),d=o(n(294)),f=n(497),p=a.style({margin:12}),m=a.style({maxWidth:800,marginBottom:12}),h=a.style({marginBottom:12}),v=a.style(r(r({backgroundColor:d.GlobalBackgroundColorLight300},f.padding(18,14)),{margin:5}));t.ExpandedContent=function(e){return i.createElement(l.Stack,{className:p},e.description&&i.createElement(l.StackItem,{className:m},i.createElement(c.Description,{description:e.description})),i.createElement(l.StackItem,{className:h},i.createElement(u.Dates,{updated:e.updated,created:e.created})),i.createElement(l.StackItem,null,i.createElement(l.Grid,null,i.createElement(l.GridItem,{className:v,span:6},i.createElement(s.Conditions,{conditions:e.conditions})),i.createElement(l.GridItem,{className:v,span:6},"Here be actions"))))}},494:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=n(23);t.Description=function(e){return o.createElement(o.Fragment,null,o.createElement(i.Title,{size:i.TitleSize.md},"Description"),o.createElement(i.Text,null," ",e.description," "))}},495:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=n(23),a=n(689);t.Dates=function(e){return o.createElement(o.Fragment,null,o.createElement(i.Text,null,"Last updated ",a.format(e.updated,"dd MMM yyyy")," | Created ",a.format(e.created,"dd MMM yyyy")))}},496:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=n(23),a=n(55).style({marginBottom:5});t.Conditions=function(e){return o.createElement(o.Fragment,null,o.createElement(i.Title,{className:a,size:i.TitleSize.md},"Conditions"),o.createElement(i.Text,null,e.conditions))}},505:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(240)),a=n(114);t.toServerPolicy=function(e){var t;return r(r({},e),{actions:null===(t=e.actions)||void 0===t?void 0:t.map((function(e){var t=e.type+" ";switch(e.type){case a.ActionType.WEBHOOK:t+=e.endpoint;break;case a.ActionType.EMAIL:t+=e.to+":"+e.subject+":"+e.message;break;default:!function(e){throw new Error("Unreachable")}()}return t})).join(";"),mtime:e.mtime?e.mtime.toUTCString():void 0})},t.toPolicy=function(e){return r(r({},e),{actions:[],mtime:i.default(e.mtime)})},t.toPolicies=function(e){return e.map(t.toPolicy)}},506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMAIL="email",e.WEBHOOK="webhook"}(t.ActionType||(t.ActionType={}))},507:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2));t.useTransformPaginatedQueryResponse=function(e,t){var n=e.payload,o=e.query,a=i.useCallback((function(){return o().then((function(e){return r(r({},e),{payload:e.payload?t(e.payload):void 0})}))}),[o,t]),l=i.useMemo((function(){return n?t(n):void 0}),[t,n]);return r(r({},e),{payload:l,query:a})}},508:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=n(23),a=n(55),l=n(509),c=n(11),u=n(511),s=n(512),d=a.style({backgroundColor:"#fff",padding:"16px 16px"});t.PolicyToolbar=function(e){return o.createElement(i.Toolbar,{className:d},o.createElement(i.ToolbarGroup,null,o.createElement(i.ToolbarItem,null,o.createElement(l.SelectAll,null))),o.createElement(i.ToolbarGroup,null,o.createElement(s.FilterBy,null)),o.createElement(i.ToolbarGroup,null,o.createElement(i.ToolbarItem,null,o.createElement(i.Button,{onClick:e.onCreatePolicy,isDisabled:!e.onCreatePolicy},"Create policy")),o.createElement(i.ToolbarItem,null,o.createElement(i.Button,{onClick:e.onExport,variant:"plain","aria-label":"Export"},o.createElement(c.ExportIcon,null))),o.createElement(i.ToolbarItem,null,o.createElement(u.KebabMenu,null))),o.createElement(i.Pagination,{itemCount:e.count||0,page:e.page,perPage:e.perPage,onSetPage:e.onPaginationChanged,onFirstClick:e.onPaginationChanged,onPreviousClick:e.onPaginationChanged,onNextClick:e.onPaginationChanged,onLastClick:e.onPaginationChanged,onPageInput:e.onPaginationChanged,onPerPageSelect:e.onPaginationSizeChanged,isCompact:!0}))}},509:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=n(23),l=o(n(510));t.SelectAll=function(){var e=[i.createElement(a.DropdownItem,{key:"none"},"Select none (0 items)"),i.createElement(a.DropdownItem,{key:"page"},"Select page (x items)"),i.createElement(a.DropdownItem,{key:"all"},"Select all (y items)")],t=l.default();return i.createElement(a.Dropdown,{toggle:i.createElement(a.DropdownToggle,{splitButtonItems:[i.createElement(a.DropdownToggleCheckbox,{id:t,key:"toggle-checkbox","aria-label":"Select / Deselect all"})]}),dropdownItems:e})}},511:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=n(23);t.KebabMenu=function(){var e=[o.createElement(i.DropdownItem,{key:"stuff"},"Stuff")];return o.createElement(i.Dropdown,{toggle:o.createElement(i.KebabToggle,null),position:i.DropdownPosition.right,dropdownItems:e,isPlain:!0})}},512:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=n(23),a=n(11),l=n(55),c=l.style({position:"relative"}),u=l.style({position:"absolute",top:9,right:9});t.FilterBy=function(){var e=[o.createElement(i.DropdownItem,{key:"stuff"},"Stuff")];return o.createElement(i.ToolbarItem,null,o.createElement(i.InputGroup,null,o.createElement(i.Dropdown,{toggle:o.createElement(i.DropdownToggle,{splitButtonItems:[o.createElement(a.FilterIcon,{size:"md",key:"filter-icon"})]}),dropdownItems:e}),o.createElement("div",{className:c},o.createElement(i.TextInput,{placeholder:"Filter by","aria-label":"Filter by"}),o.createElement(a.SearchIcon,{className:u,size:"sm"}))))}},513:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=n(514),a=n(241),l=r(n(685)),c=n(686);t.CreatePolicyWizard=function(e){var t=a.useCreatePolicyMutation(),n=a.useVerifyPolicyMutation(),r=t.loading||n.loading;return o.createElement(o.Fragment,null,e.isOpen&&o.createElement(i.PolicyWizard,{initialValue:{},onClose:function(){e.close(!1)},onSave:function(n){t.mutate(n).then((function(t){switch(t.status){case l.CREATED:c.addSuccessNotification("Created",'Policy "'+n.name+'" created'),e.close(!0);break;case l.OK:c.addSuccessNotification("Validated",'Policy "'+n.name+'" validated');break;case l.BAD_REQUEST:c.addDangerNotification("Failed validation",'Policy "'+n.name+'" is invalid');break;case l.CONFLICT:c.addDangerNotification("Failed creation",'Failed to persist Policy "'+n.name+'"');break;case l.INTERNAL_SERVER_ERROR:default:c.addDangerNotification("Error",'An internal server error occurred when processing Policy "'+n.name+'"')}}))},onVerify:function(e){return n.mutate(e).then((function(t){switch(t.status){case l.OK:return{isValid:!0,conditions:e.conditions};case l.BAD_REQUEST:return{isValid:!1,error:t.payload.msg,conditions:e.conditions}}return{isValid:!1,error:t.payload||"Unknown Error when trying to validate: (Code "+t.status+")",conditions:e.conditions}}))},isLoading:r}))}},514:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=n(23),l=n(66),c=n(115),u=n(614),s=n(615),d=n(624),f=n(625),p=n(629),m=n(104),h=n(630),v=function(e,t,n,r,o){return!o&&(e===n||0!==e&&(t?e<=r:e<=n))},y=function(e,t){return!t&&e},b=function(e){var t=l.useFormikContext(),n=t.validateForm,o=t.handleSubmit;i.useEffect((function(){n()}),[e.currentStep,n]),i.useEffect((function(){e.submitAction!==c.WizardActionType.NONE&&o()}),[e.submitAction,o]);var u={isLoading:e.isLoading,isFormValid:t.isValid,triggerAction:e.setSubmitAction,verifyResponse:e.verifyResponse},s=function(e,t,n){return e.isValid?e.isValid(t,n):t.isFormValid}(e.steps[e.currentStep],u,t.values);u.isValid=s;var d=e.steps.map((function(t){return r(r({},t),{enableNext:y(s,e.isLoading),canJumpTo:v(t.id,s,e.currentStep,e.maxStep,e.isLoading)})}));return i.createElement(a.Form,null,i.createElement(c.WizardContext.Provider,{value:u},i.createElement(a.Wizard,{isOpen:!0,onSave:function(){e.setSubmitAction(c.WizardActionType.SAVE)},onClose:e.onClose,steps:d,startAtStep:e.currentStep+1,onNext:e.onMove,onBack:e.onMove,onGoToStep:e.onMove,title:"Add Custom Policy",description:"Custom policies are processed on reception of system profile messages. If condition(s) are met, defined action(s) are triggered.",footer:i.createElement(h.PolicyWizardFooter,{loadingText:"Loading",isLoading:e.isLoading})})))};t.PolicyWizard=function(e){var t=i.useState(0),n=t[0],o=t[1],a=i.useState(0),h=a[0],v=a[1],y=i.useState(c.WizardActionType.NONE),_=y[0],g=y[1],E=i.useState({isValid:!1}),O=E[0],P=E[1],S=[u.createCustomPolicyStep({hideBackButton:!0}),s.createDetailsStep({hideBackButton:!0}),d.createConditionsStep(),f.createActionsStep(),p.createReviewStep({nextButtonText:"Finish"})].map((function(e,t){return r(r({},e),{id:t})}));return i.createElement(i.Fragment,null,i.createElement(l.Formik,{initialValues:e.initialValue,initialStatus:{},validateOnMount:!1,validationSchema:S[n].validationSchema,onSubmit:function(t,n){n.setSubmitting(!1),g(c.WizardActionType.NONE);var r=m.PolicyFormSchema.cast(t);switch(n.setValues(r),_){case c.WizardActionType.SAVE:e.onSave(r);break;case c.WizardActionType.VERIFY:e.onVerify(r).then(P);break;default:throw new Error("Unexpected action")}}},i.createElement(b,{currentStep:n,maxStep:h,isLoading:e.isLoading,submitAction:_,setSubmitAction:g,steps:S,verifyResponse:O,onClose:e.onClose,onMove:function(e,t){var n=e.id;o(n),n>h&&v(n)}})))}},614:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=n(23),l=n(115),c=n(289),u=n(241),s=n(323),d=n(2),f=n(228),p=function(){var e=i.useState(!1),t=e[0],n=e[1],r=u.useGetPoliciesQuery(void 0,!1),o=r.loading,l=r.payload,p=r.query,m=r.error,h=r.status,v=d.useContext(f.RbacContext).canReadAll;return i.useEffect((function(){t&&!l&&p()}),[t,l,p]),i.createElement(i.Fragment,null,i.createElement(a.Form,null,i.createElement("span",null,"Define a new custom policy:"),i.createElement(a.Radio,{isChecked:!t,name:"from-scratch",id:"create-new-custom-policy-from-scratch",onChange:function(){n(!1)},label:"From scratch"}),i.createElement(a.Radio,{isChecked:t,name:"as-copy",id:"create-new-custom-policy-as-copy",onChange:function(){n(!0)},label:"As a copy of existing Custom Policy"}),t&&i.createElement(i.Fragment,null,i.createElement(a.InputGroup,null,i.createElement(a.TextInput,{"aria-label":"Filter by name",placeholder:"Filter by name"}),i.createElement(a.Button,{"aria-label":"Filter"},"Filter")),i.createElement(c.PolicyTable,{loading:o,policies:l,error:s.policyTableError(v,m,h)}))))};t.createCustomPolicyStep=function(e){return r({name:"Create Custom Policy",component:i.createElement(p,null),validationSchema:l.AlwaysValid},e)}},615:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=n(23),l=n(103),c=n(104),u=function(){return i.createElement(a.Form,null,i.createElement(l.FormTextInput,{isRequired:!0,label:"Name",type:"text",name:"name",id:"name"}),i.createElement(l.FormTextInput,{label:"Description",type:"text",id:"description",name:"description"}))};t.createDetailsStep=function(e){return r({name:"Details",component:i.createElement(u,null),validationSchema:c.PolicyFormDetails},e)}},616:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=n(66),l=n(23),c=n(125);t.Checkbox=function(e){var t=a.useField(r(r({},e),{type:"checkbox"})),n=t[0],o=t[1],u=!o.error||!o.touched;return i.createElement(l.FormGroup,{fieldId:e.id,helperTextInvalid:o.error,isRequired:e.isRequired,isValid:u,label:e.label},i.createElement(l.Checkbox,r({isChecked:n.checked},e,n,{isValid:u,onChange:c.onChangePFAdapter(n)})))}},617:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=n(66),l=n(23),c=n(125);t.FormSelect=function(e){var t=a.useField(r({},e)),n=t[0],o=t[1],u=!o.error||!o.touched;return i.createElement(l.FormGroup,{fieldId:e.id,helperTextInvalid:o.error,isRequired:e.isRequired,isValid:u,label:e.label},i.createElement(l.FormSelect,r({},e,n,{onChange:c.onChangePFAdapter(n),isValid:u}),e.children))}},618:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(2)),l=n(66),c=n(23),u=n(125);t.Switch=function(e){var t=l.useField(r(r({},e),{type:"checkbox"})),n=t[0],i=t[1],s=e.labelOn,d=o(e,["labelOn"]),f=!i.error||!i.touched;return a.createElement(c.FormGroup,{fieldId:e.id,helperTextInvalid:i.error,isRequired:e.isRequired,isValid:f,label:e.label},a.createElement("div",null,a.createElement(c.Switch,r({isChecked:n.checked},d,n,{label:s,onChange:u.onChangePFAdapter(n)}))))}},619:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=n(66),l=n(23),c=n(125);t.FormTextInput=function(e){var t=a.useField(r({},e)),n=t[0],o=t[1],u=!o.error||!o.touched;return i.createElement(l.FormGroup,{fieldId:e.id,helperTextInvalid:o.error,isRequired:e.isRequired,isValid:u,label:e.label},i.createElement(l.TextInput,r({},e,n,{value:n.value||"",isValid:u,onChange:c.onChangePFAdapter(n)})))}},620:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(621);t.ActionSchema=r.ActionSchema;var o=n(622);t.ActionEmailSchema=o.ActionEmailSchema;var i=n(623);t.ActionWebhookSchema=i.ActionWebhookSchema},621:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(87));t.ActionSchema=o.object().shape({type:o.mixed().required("Specify the action type")})},622:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(87));t.ActionEmailSchema=o.object().shape({type:o.mixed()})},623:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(87));t.ActionWebhookSchema=o.object().shape({type:o.mixed(),endpoint:o.string().url("The url for the endpoint is not valid").required("Specify the endpoint url").trim()})},624:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=n(23),l=n(11),c=n(103),u=n(115),s=n(104),d=n(66),f=n(55),p=n(294),m=f.style({marginTop:"auto",marginBottom:"auto"}),h=function(e){return e.changed?null:e.isValid?i.createElement(i.Fragment,null,i.createElement(l.CheckCircleIcon,{className:m,color:p.GlobalSuccessColor200}),i.createElement("div",{className:m},"Condition is valid")):e.error?i.createElement(i.Fragment,null,i.createElement(l.ExclamationCircleIcon,{className:m,color:p.GlobalDangerColor100}),i.createElement("div",{className:m},"Invalid condition"),i.createElement("div",{className:m}," ",e.error," ")):null},v=function(){var e=i.useContext(u.WizardContext),t=d.useFormikContext().values;return i.createElement(a.Form,null,i.createElement(c.FormTextInput,{isRequired:!0,label:"Condition text",type:"text",id:"conditions",name:"conditions",placeholder:'arch = "x86_64"'}),i.createElement(a.ActionGroup,null,t.conditions&&""!==t.conditions&&i.createElement(i.Fragment,null,i.createElement(a.Button,{onClick:function(){e.triggerAction(u.WizardActionType.VERIFY)},variant:a.ButtonVariant.secondary},"Test condition"),i.createElement(h,r({},e.verifyResponse,{changed:e.verifyResponse.conditions!==t.conditions})))))};t.createConditionsStep=function(e){return r({name:"Conditions",component:i.createElement(v,null),validationSchema:s.PolicyFormConditions,isValid:function(e,t){return t.conditions===e.verifyResponse.conditions&&e.verifyResponse.isValid}},e)}},625:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=n(23),l=n(104),c=n(66),u=n(324),s=function(){return i.createElement(a.Form,null,i.createElement(c.FieldArray,{name:"actions"},(function(e){return i.createElement(u.ActionsForm,{id:"actions",name:"actions",actions:e.form.values.actions,arrayHelpers:e})})))};t.createActionsStep=function(e){return r({name:"Actions",component:i.createElement(s,null),validationSchema:l.PolicyFormActions},e)}},626:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=n(114),l=n(627),c=n(628);t.ActionForm=function(e){var t,n;switch((null===(t=e.action)||void 0===t?void 0:t.type)||void 0){case a.ActionType.EMAIL:return i.createElement(l.ActionEmailForm,r({},e));case a.ActionType.WEBHOOK:return i.createElement(c.ActionWebhookForm,r({},e));case void 0:return null;default:throw new Error("Unexpected action type:["+(null===(n=e.action)||void 0===n?void 0:n.type)+"]")}}},627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionEmailForm=function(e){return null}},628:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(103),i=r(n(2));t.ActionWebhookForm=function(e){var t=e.prefix+".endpoint";return i.createElement(i.Fragment,null,i.createElement(o.FormTextInput,{isReadOnly:e.isReadOnly,type:"text",name:t,id:t,label:"Endpoint",isRequired:!0}))}},629:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),a=n(66),l=n(115),c=n(103),u=n(23),s=n(324),d=n(104),f=n(2),p=function(){var e=f.useContext(l.WizardContext);return i.createElement(i.Fragment,null,i.createElement(u.Form,null,i.createElement(c.Switch,{isDisabled:e.isLoading,type:"checkbox",id:"isEnabled",name:"isEnabled",label:"Activate Policy?"}),i.createElement(c.FormTextInput,{isReadOnly:!0,label:"Name",type:"text",name:"name",id:"name"}),i.createElement(c.FormTextInput,{isReadOnly:!0,label:"Description",type:"text",id:"description",name:"description"}),i.createElement(c.FormTextInput,{isReadOnly:!0,label:"Condition text",type:"text",id:"conditions",name:"conditions"}),i.createElement(a.FieldArray,{name:"actions"},(function(e){return i.createElement(s.ActionsForm,{id:"actions",name:"actions",isReadOnly:!0,actions:e.form.values.actions,arrayHelpers:e})}))))};t.createReviewStep=function(e){return r({name:"Review",component:i.createElement(p,null),validationSchema:d.PolicyFormSchema},e)}},630:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=n(23),a=n(631),l=n(55).style({marginTop:"auto",marginBottom:14});t.PolicyWizardFooter=function(e){return o.createElement(i.WizardFooter,null,o.createElement(i.WizardContextConsumer,null,(function(t){var n=t;return o.createElement(o.Fragment,null,o.createElement(i.Button,{variant:i.ButtonVariant.primary,type:"submit",onClick:n.onNext,isDisabled:e.isLoading||!n.activeStep.enableNext},n.activeStep.nextButtonText||"Next"),!n.activeStep.hideBackButton&&o.createElement(i.Button,{variant:i.ButtonVariant.secondary,onClick:n.onBack,isDisabled:0===n.activeStep.id||e.isLoading},"Back"),!n.activeStep.hideCancelButton&&o.createElement(i.Button,{variant:i.ButtonVariant.link,onClick:n.onClose,isDisabled:e.isLoading},"Cancel"),e.isLoading&&o.createElement("div",{className:l},e.loadingText," ",o.createElement(a.Spinner,{size:"md"})))})))}},686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(147),i=n(258);!function(e){e.SUCCESS="success",e.DANGER="danger",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"}(r=t.NotificationType||(t.NotificationType={})),t.addNotification=function(e,t,n){i.getStore().dispatch(o.addNotification({variant:e,title:t,description:n}))},t.addSuccessNotification=function(e,n){t.addNotification(r.SUCCESS,e,n)},t.addDangerNotification=function(e,n){t.addNotification(r.DANGER,e,n)}},687:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=n(229),a=n(23);t.AppSkeleton=function(){return o.createElement(o.Fragment,null,o.createElement(i.PageHeader,null,o.createElement("div",{className:"pf-c-content"},o.createElement(i.PageHeaderTitle,{title:o.createElement(i.Skeleton,{size:"sm"})}))),o.createElement(i.Main,null,o.createElement(i.Section,null,o.createElement(a.Bullseye,null,o.createElement(i.Spinner,{centered:!0})))))}}});
//# sourceMappingURL=App.js.map