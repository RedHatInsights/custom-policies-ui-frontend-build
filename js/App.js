!function(e){function t(t){for(var r,i,o=t[0],a=t[1],l=t[2],c=0,u=[];c<o.length;c++)i=o[c],Object.prototype.hasOwnProperty.call(M,i)&&M[i]&&u.push(M[i][0]),M[i]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(D&&D(t);u.length;)u.shift()();return I.push.apply(I,l||[]),n()}function n(){for(var e,t=0;t<I.length;t++){for(var n=I[t],r=!0,i=1;i<n.length;i++){var o=n[i];0!==M[o]&&(r=!1)}r&&(I.splice(t--,1),e=k(k.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!O[e]||!E[e])return;for(var n in E[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n]);0==--b&&0===_&&w()}(e,t),r&&r(e,t)};var i,o=!0,a="dc72681ea251b254e827",l=1e4,c={},u=[],s=[];function d(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:i!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:S,apply:j,status:function(e){if(!e)return p;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:c[e]};return i=void 0,t}var f=[],p="idle";function m(e){p=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var h,v,y,b=0,_=0,g={},E={},O={};function P(e){return+e+""===e?+e:e}function S(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return o=e,m("check"),(t=l,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=k.p+""+a+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return m("idle"),null;E={},g={},O=e.c,y=e.h,m("prepare");var t=new Promise((function(e,t){h={resolve:e,reject:t}}));for(var n in v={},M)C(n);return"prepare"===p&&0===_&&0===b&&w(),t}));var t}function C(e){O[e]?(E[e]=!0,b++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=k.p+""+e+"."+a+".hot-update.js",document.head.appendChild(t)}(e)):g[e]=!0}function w(){m("ready");var e=h;if(h=null,e)if(o)Promise.resolve().then((function(){return j(o)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&t.push(P(n));e.resolve(t)}}function j(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var n,r,i,o,l;function s(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var i=r.pop(),a=i.id,l=i.chain;if((o=A[a])&&!o.hot._selfAccepted){if(o.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:a};if(o.hot._main)return{type:"unaccepted",chain:l,moduleId:a};for(var c=0;c<o.parents.length;c++){var u=o.parents[c],s=A[u];if(s){if(s.hot._declinedDependencies[a])return{type:"declined",chain:l.concat([u]),moduleId:a,parentId:u};-1===t.indexOf(u)&&(s.hot._acceptedDependencies[a]?(n[u]||(n[u]=[]),d(n[u],[a])):(delete n[u],t.push(u),r.push({chain:l.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var f={},h=[],b={},_=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var g in v)if(Object.prototype.hasOwnProperty.call(v,g)){var E;l=P(g);var S=!1,C=!1,w=!1,j="";switch((E=v[g]?s(l):{type:"disposed",moduleId:g}).chain&&(j="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(S=new Error("Aborted because of self decline: "+E.moduleId+j));break;case"declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(S=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+j));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(E),t.ignoreUnaccepted||(S=new Error("Aborted because "+l+" is not accepted"+j));break;case"accepted":t.onAccepted&&t.onAccepted(E),C=!0;break;case"disposed":t.onDisposed&&t.onDisposed(E),w=!0;break;default:throw new Error("Unexception type "+E.type)}if(S)return m("abort"),Promise.reject(S);if(C)for(l in b[l]=v[l],d(h,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,l)&&(f[l]||(f[l]=[]),d(f[l],E.outdatedDependencies[l]));w&&(d(h,[E.moduleId]),b[l]=_)}var I,x=[];for(r=0;r<h.length;r++)l=h[r],A[l]&&A[l].hot._selfAccepted&&b[l]!==_&&x.push({module:l,errorHandler:A[l].hot._selfAccepted});m("dispose"),Object.keys(O).forEach((function(e){!1===O[e]&&function(e){delete M[e]}(e)}));for(var T,F,D=h.slice();D.length>0;)if(l=D.pop(),o=A[l]){var R={},N=o.hot._disposeHandlers;for(i=0;i<N.length;i++)(n=N[i])(R);for(c[l]=R,o.hot.active=!1,delete A[l],delete f[l],i=0;i<o.children.length;i++){var B=A[o.children[i]];B&&((I=B.parents.indexOf(l))>=0&&B.parents.splice(I,1))}}for(l in f)if(Object.prototype.hasOwnProperty.call(f,l)&&(o=A[l]))for(F=f[l],i=0;i<F.length;i++)T=F[i],(I=o.children.indexOf(T))>=0&&o.children.splice(I,1);for(l in m("apply"),a=y,b)Object.prototype.hasOwnProperty.call(b,l)&&(e[l]=b[l]);var V=null;for(l in f)if(Object.prototype.hasOwnProperty.call(f,l)&&(o=A[l])){F=f[l];var z=[];for(r=0;r<F.length;r++)if(T=F[r],n=o.hot._acceptedDependencies[T]){if(-1!==z.indexOf(n))continue;z.push(n)}for(r=0;r<z.length;r++){n=z[r];try{n(F)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:l,dependencyId:F[r],error:e}),t.ignoreErrored||V||(V=e)}}}for(r=0;r<x.length;r++){var L=x[r];l=L.module,u=[l];try{k(l)}catch(e){if("function"==typeof L.errorHandler)try{L.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:n,originalError:e}),t.ignoreErrored||V||(V=n),V||(V=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:l,error:e}),t.ignoreErrored||V||(V=e)}}return V?(m("fail"),Promise.reject(V)):(m("idle"),new Promise((function(e){e(h)})))}var A={},M={0:0},I=[];function k(t){if(A[t])return A[t].exports;var n=A[t]={i:t,l:!1,exports:{},hot:d(t),parents:(s=u,u=[],s),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=A[e];if(!t)return k;var n=function(n){return t.hot.active?(A[n]?-1===A[n].parents.indexOf(e)&&A[n].parents.push(e):(u=[e],i=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),u=[]),k(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return k[e]},set:function(t){k[e]=t}}};for(var o in k)Object.prototype.hasOwnProperty.call(k,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,r(o));return n.e=function(e){return"ready"===p&&m("prepare"),_++,k.e(e).then(t,(function(e){throw t(),e}));function t(){_--,"prepare"===p&&(g[e]||C(e),0===_&&0===b&&w())}},n.t=function(e,t){return 1&t&&(e=n(e)),k.t(e,-2&t)},n}(t)),n.l=!0,n.exports}k.m=e,k.c=A,k.d=function(e,t,n){k.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},k.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},k.t=function(e,t){if(1&t&&(e=k(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(k.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)k.d(n,r,function(t){return e[t]}.bind(null,r));return n},k.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return k.d(t,"a",t),t},k.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},k.p="/beta/apps/custom-policies/",k.h=function(){return a};var x=window.webpackJsonp=window.webpackJsonp||[],T=x.push.bind(x);x.push=t,x=x.slice();for(var F=0;F<x.length;F++)t(x[F]);var D=T;I.push([375,1]),n()}({110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.wizardActions="Actions",e.wizardConditions="Conditions",e.wizardCreatePolicy="Create Custom Policy",e.wizardDetails="Details",e.wizardReview="Review",e}();t.Messages=r},111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(743);t.Checkbox=r.Checkbox;var i=n(744);t.FormSelect=i.FormSelect;var o=n(745);t.Switch=o.Switch;var a=n(746);t.FormTextInput=a.FormTextInput},112:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(127),o=r(n(98)),a=n(747),l=n(98);t.PolicyFormDetails=o.object().shape({description:o.string().notRequired().trim(),isEnabled:o.boolean().notRequired(),name:o.string().required("Write a name for this Custom policy").trim()}),t.PolicyFormActions=o.object().shape({actions:o.array(o.lazy((function(e){switch(e.type){case i.ActionType.EMAIL:return a.ActionEmailSchema;case i.ActionType.WEBHOOK:return a.ActionWebhookSchema;case void 0:return a.ActionSchema}throw new Error("Unknown action type. Implement the new type in the schema selector")}))).test("one-email","Only one Email action type is allowed",(function(e){var t=e&&e.reduce((function(e,t,n){return t.type===i.ActionType.EMAIL?e.concat([n]):e}),[]);if(!t||t.length<=1)return!0;var n=new l.ValidationError("","","actions","");return n.inner=t.map((function(e){return new l.ValidationError("Only one Email action is allowed","email","actions."+e+".type")})),n}))}),t.PolicyFormConditions=o.object().shape({conditions:o.string().required("Write a condition").trim()}),t.PolicyFormSchema=o.object().concat(t.PolicyFormDetails).concat(t.PolicyFormActions).concat(t.PolicyFormConditions)},126:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(179)),a=n(177),l=n(244),c=n(636),u=n(638),s=o.default.apis.urls,d=function(e,t,n,r){return{method:e,endpoint:t+(n?"?"+new URLSearchParams(n).toString():""),body:r}},f=function(e,t,n,r,i){return a.useQuery(d(e,t,r,i),n)},p=function(e,t,n,i,o,a){var c,u=f(e,t,i,function(e,t){if(t||(t=l.Page.defaultPage()),e||(e={}),e.page=t.index-1,e.pageSize=t.size,t.filter)for(var n=0,r=t.filter.elements;n<r.length;n++){var i=r[n];e["filter["+i.column+"]"]=i.value,e["filter:op["+i.column+"]"]=i.operator}return t.sort&&(e.sortColumn=t.sort.column,e.sortDirection=t.sort.direction),e}(o,n),a),s=null===(c=u.headers)||void 0===c?void 0:c.get("TotalCount");return r({count:s?+s:s},u)};t.useGetFactsQuery=function(e){return f("GET",s.facts,e)},t.useGetPoliciesQuery=function(e,t){return u.useTransformPaginatedQueryResponse(p("GET",s.policies,e,t),c.toPolicies)},t.useCreatePolicyMutation=function(){return a.useMutation((function(e){return d("POST",s.policies,{alsoStore:!0},c.toServerPolicy(e))}))},t.useVerifyPolicyMutation=function(){return a.useMutation((function(e){return d("POST",s.policies,{alsoStore:!1},c.toServerPolicy(e))}))},t.useDeletePolicyMutation=function(){return a.useMutation((function(e){return d("DELETE",s.policy(e.id))}))},t.useGetPolicyQuery=function(e,t){return f("GET",s.policy(e),t)}},127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(637);t.ActionType=r.ActionType},128:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(98));t.AlwaysValid=o.object(),function(e){e.SAVE="CREATE",e.VERIFY="VERIFY",e.NONE="NONE"}(t.WizardActionType||(t.WizardActionType={})),t.WizardContext=i.createContext({isLoading:!1,isFormValid:!1,triggerAction:function(){throw Error("Action executed without WizardContext")},verifyResponse:{isValid:!1},createResponse:{created:!1}})},138:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onChangePFAdapter=function(e){return function(t,n){return e.onChange(n)}},t.onChangePFAdapterCheckbox=function(e){return function(t,n){return(0,e.onChange)(t,n.target.name)}}},179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return"/api/custom-policies/v1.0/"+e},i={appId:"custom-policies",apis:{version:"v1.0",urls:{base:"/api/custom-policies/v1.0",facts:r("facts"),policies:r("policies"),policy:function(e){return r("policies/"+e)}}}};t.default=i},181:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1));t.RbacContext=i.createContext({canReadAll:!1,canWriteAll:!1})},244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=10,i=function(){function e(e,t,n,i){this.index=e,this.size=t||r,this.filter=n,this.sort=i}return e.of=function(t,n,r,i){return new e(t,n,r,i)},e.defaultPage=function(){return new e(1,r)},e}();t.Page=i;var o=function(e,t,n){this.column=e,this.operator=t,this.value=n},a=function(){function e(){this.elements=this._elements=[]}return e.prototype.and=function(e,t,n){this._elements.push(new o(e,t,n))},e}();t.Filter=a;var l=function(){function e(e,t){this.column=e,this.direction=t}return e.by=function(t,n){return new e(t,n)},e}();t.Sort=l,function(e){e.ASCENDING="ASC",e.DESCENDING="DESC"}(t.Direction||(t.Direction={})),function(e){e.EQUAL="EQUAL",e.LIKE="LIKE",e.ILIKE="ILIKE",e.NOT_EQUAL="NOT_EQUAL",e.BOOLEAN_IS="BOOLEAN_IS"}(t.Operator||(t.Operator={}))},246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalBackgroundColor100="#fff",t.GlobalBackgroundColor150="#f5f5f5",t.GlobalBackgroundColor200="#fafafa",t.GlobalBackgroundColor300="#ededed",t.GlobalBackgroundColorDark100="#151515",t.GlobalBackgroundColorDark200="#3c3f42",t.GlobalBackgroundColorDark300="#212427",t.GlobalBackgroundColorDark400="#4f5255",t.GlobalBackgroundColorLight100="#fff",t.GlobalBackgroundColorLight200="#fafafa",t.GlobalBackgroundColorLight300="#ededed",t.GlobalDangerColor100="#c9190b",t.GlobalDangerColor200="#a30000",t.GlobalDangerColor300="#470000",t.GlobalSuccessColor100="#92d400",t.GlobalSuccessColor200="#486b00"},253:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=new Promise((function(e){return r(void 0,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return window.hasOwnProperty("insights")?[3,2]:[4,new Promise((function(e){return setTimeout(e,250)}))];case 1:return t.sent(),[3,0];case 2:return e(insights),[2]}}))}))}));t.getInsights=function(){return o}},257:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a=i(n(382)),l=i(n(771)),c=n(157);t.init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(o)throw new Error("store already initialized");return(o=new a.default({},r([l.default()],e))).register({notifications:c.notifications}),o},t.getStore=function(){return o.getStore()},t.register=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.register.apply(o,e)}},310:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(347),l=n(27),c=n(123),u=n(113),s=n(244),d=n(624),f=function(e){return o.createElement(o.Fragment,null,o.createElement(l.EmptyStateIcon,{icon:e.icon}),o.createElement(l.Title,{size:"lg"},e.title),o.createElement(l.EmptyStateBody,null,e.content))},p=function(e,t,n){return t.indexOf(n[e])+2};t.PolicyTable=function(e){var t=o.useState({}),n=t[0],i=t[1];o.useEffect((function(){e.policies?i(e.policies.reduce((function(e,t){return t.id&&(e[t.id]={isOpen:!1,isSelected:!1}),e}),{})):i({})}),[e.policies]);var m=e.onSort?[a.sortable]:[],h={name:{title:"Name",transforms:m,cellFormatters:[a.expandable],column:"name"},actions:{title:"Actions",transforms:[]},is_enabled:{title:"Is active?",transforms:m,column:"is_enabled"}},v=Object.values(h),y=e.onSort,b=o.useCallback((function(e,t,n){if(y){var r=function(e,t){return t[e-2].column}(t,v);r&&y(t,r,n===a.SortByDirection.asc?s.Direction.ASCENDING:s.Direction.DESCENDING)}}),[y,v]),_=o.useCallback((function(e,t,o,a){if(n[a.id].isOpen!==o){var l=r({},n);l[a.id]=r(r({},l[a.id]),{isOpen:o}),i(l)}}),[n,i]),g=o.useMemo((function(){if(e.sortBy)return{index:p(e.sortBy.column,v,h),direction:e.sortBy.direction===s.Direction.ASCENDING?"asc":"desc"}}),[e.sortBy,v,h]),E=e.error||e.loading?[]:e.actions||[],O=e.error?function(e){return[{heightAuto:!0,showSelect:!1,cells:[{props:{colSpan:8},title:o.createElement(l.Bullseye,null,o.createElement(l.EmptyState,{variant:l.EmptyStateVariant.small},o.createElement(f,r({},e))))}]}]}(e.error):function(e,t){return e?e.reduce((function(e,n,r){var i=n.id&&t[n.id]||{isOpen:!0,isSelected:!1};return e.push({id:n.id,isOpen:i.isOpen,selected:i.isSelected,cells:[n.name,n.actions,n.isEnabled?o.createElement(o.Fragment,null,o.createElement(u.CheckCircleIcon,{color:"green"})):null]}),e.push({parent:2*r,fullWidth:!0,showSelect:!1,cells:[o.createElement(o.Fragment,null,o.createElement(d.ExpandedContent,{key:n.id,description:n.description,conditions:n.conditions,actions:n.actions,created:new Date(2020,1,19),updated:n.mtime}))]}),e}),[]):[]}(e.policies,n);return e.loading?o.createElement(c.SkeletonTable,{rowSize:10,columns:v}):o.createElement(a.Table,{"aria-label":"Custom policies",cells:v,rows:O,actionResolver:function(e){return void 0===e.parent?E:[]},onSelect:e.error?void 0:function(e,t,o,a){if(n[a.id].isSelected!==t){var l=r({},n);l[a.id]=r(r({},l[a.id]),{isSelected:t}),i(l)}},onSort:b,onCollapse:_,sortBy:g,canSelectAll:!1},o.createElement(a.TableHeader,null),o.createElement(a.TableBody,null))}},344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(113),i={icon:r.ExclamationCircleIcon,title:"No permission to view this page",content:"You do not have permission to view this page"};t.policyTableError=function(e,t,n){if(!e)return i;if(t)switch(n){case 404:return{icon:r.ExclamationCircleIcon,title:"Not found",content:"The request did not provide any results, try to remove some filters and try again"};case 401:return{icon:r.ExclamationCircleIcon,title:"Refresh your brower",content:"Your session expired while using the application, Refresh your browser and try again"};case 403:return i;case 500:return{icon:r.ExclamationCircleIcon,title:"Internal server error",content:"The server was unable to process the request, please try again."};default:return{icon:r.ExclamationCircleIcon,title:"Unable to connect",content:"There was an error retrieving data. Check your connection and try again."}}}},345:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(127),l=n(27),c=o(n(1)),u=n(113),s=n(111),d=n(753),f=n(253);t.ActionsForm=function(e){var t;return c.createElement(c.Fragment,null,null===(t=e.actions)||void 0===t?void 0:t.map((function(t,n){return c.createElement(c.Fragment,{key:n},c.createElement(l.Card,null,c.createElement(l.CardHead,null,c.createElement(l.CardActions,null,c.createElement(l.Button,{variant:"plain","aria-label":"Action",onClick:e.arrayHelpers.handleRemove(n)},c.createElement(u.TimesIcon,null))),c.createElement(l.CardHeader,null,"Action #",n+1)),c.createElement(l.CardBody,{className:"pf-c-form"},c.createElement(s.FormSelect,{isDisabled:e.isReadOnly,id:"actions."+n+".type",name:"actions."+n+".type",label:"Type"},c.createElement(l.FormSelectOption,{value:"",label:"Select an Action type"}),Object.values(a.ActionType).filter((function(e){return r(void 0,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,f.getInsights()];case 1:return[2,t.sent().chrome.isBeta()||e!==a.ActionType.WEBHOOK]}}))}))})).map((function(e){return c.createElement(l.FormSelectOption,{key:e,label:l.capitalize(e),value:e})}))),c.createElement(d.ActionForm,{isReadOnly:e.isReadOnly,action:t,prefix:"actions."+n}))))})),c.createElement(l.ActionGroup,null,!e.isReadOnly&&c.createElement(l.Button,{variant:"primary",onClick:e.arrayHelpers.handlePush({})},"+ Add action")))}},352:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=n(177),l=n(289),c=n(157),u=i(n(179)),s=n(452),d=n(181),f=n(478),p=n(765),m=n(766);n(767),n(768);var h=n(253);t.default=l.withRouter((function(e){var t=o.useState(void 0),n=t[0],r=t[1];return o.useEffect((function(){return h.getInsights().then((function(e){e.chrome.init(),e.chrome.identifyApp(u.default.appId)})),function(){h.getInsights().then((function(t){t.chrome.on("APP_NAVIGATION",(function(t){return e.history.push("/"+t.navId)}))}))}}),[e.history]),o.useEffect((function(){h.getInsights().then((function(e){e.chrome.auth.getUser().then((function(){s.fetchRBAC().then(r)}))}))}),[]),n?o.createElement(a.ClientContextProvider,{client:m.client},o.createElement(d.RbacContext.Provider,{value:n},o.createElement(c.NotificationsPortal,null),o.createElement(f.Routes,null))):o.createElement(p.AppSkeleton,null)}))},372:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="/",n=e.split("/");return n.shift(),"beta"===n[0]&&(n.shift(),t="/beta/"),""+t+n[0]+"/"+(n[1]||"")}},375:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(18),a=n.n(o),l=n(260),c=n(147),u=n(257),s=n(352),d=n.n(s),f=n(372),p=n.n(f);a.a.render(i.a.createElement(c.Provider,{store:Object(u.init)().getStore()},i.a.createElement(l.a,{basename:p()(window.location.pathname)},i.a.createElement(d.a,null))),document.getElementById("root"))},452:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(453),o=r(n(290)),a=r(n(179)),l=function(){function e(e){this.accessPagination=e}return e.prototype.canRead=function(e){return this.findPermission(e,"read")},e.prototype.canWrite=function(e){return this.findPermission(e,"write")},e.prototype.canReadAll=function(){return this.canRead("*")},e.prototype.canWriteAll=function(){return this.canWrite("*")},e.prototype.findPermission=function(e,t){var n;if(!(null===(n=this.accessPagination)||void 0===n?void 0:n.data)||0===this.accessPagination.data.length)return!1;for(var r=0,i=this.accessPagination.data;r<i.length;r++){var o=i[r].permission.split(":");if(o[1]===e&&(o[2]===t||"*"===o[2]))return!0}return!1},e}();t.fetchRBAC=function(){var e=o.default.create();return new i.AccessApi(void 0,"/api/rbac/v1",e).getPrincipalAccess(a.default.appId).then((function(e){return new l(e.data)})).then((function(e){return{canReadAll:e.canReadAll(),canWriteAll:e.canWriteAll()}}))}},478:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(1)),c=n(289),u=[{path:"/list",component:a(n(479)).default,rootClass:"list"}],s=function(e){var t=e.rootClass,n=i(e,["rootClass"]),o=document.getElementById("root");if(!o)throw new Error("Root element not found");return o.removeAttribute("class"),o.classList.add("page__"+t,"pf-c-page__main"),o.setAttribute("role","main"),l.createElement(c.Route,r({},n))};t.Routes=function(){return l.createElement(c.Switch,null,u.map((function(e){return l.createElement(s,{key:e.path,rootClass:e.rootClass,component:e.component,path:e.path})})),l.createElement(c.Redirect,{to:"/list"}))}},479:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(1),a=n(123),l=n(310),c=n(126),u=n(244),s=n(639),d=n(640),f=n(181),p=n(344),m=n(760),h=n(761);t.default=function(e){var t,n=i.useState(1),r=n[0],v=n[1],y=i.useState(u.Page.defaultPage().size),b=y[0],_=y[1],g=i.useState(),E=g[0],O=g[1],P=i.useState(!1),S=P[0],C=P[1],w=i.useState(void 0),j=w[0],A=w[1],M=h.useDebouncedState("",250),I=M[0],k=M[1],x=M[2],T=h.useDebouncedState("",250),F=T[0],D=T[1],R=T[2],N=h.useDebouncedState({enabled:!1,disabled:!1},250),B=N[0],V=N[1],z=N[2],L=i.useMemo((function(){var e=new u.Filter;return""!==x.trim()&&e.and(s.FilterColumn.NAME,u.Operator.ILIKE,"%"+x.trim()+"%"),""!==R.trim()&&e.and(s.FilterColumn.DESCRIPTION,u.Operator.ILIKE,"%"+R.trim()+"%"),z.disabled!==z.enabled&&e.and(s.FilterColumn.IS_ACTIVE,u.Operator.BOOLEAN_IS,z.enabled?"true":"false"),u.Page.of(r,b,e,E)}),[r,b,E,x,R,z]),G=c.useGetPoliciesQuery(L,!1),W=o.useContext(f.RbacContext),H=W.canReadAll,q=W.canWriteAll,U=G.query,Q=i.useCallback((function(e){e&&U(),A(void 0)}),[U,A]),K=i.useCallback((function(e){var t;return null===(t=G.payload)||void 0===t?void 0:t.find((function(t){return t.id===e}))}),[G.payload]),Y=i.useMemo((function(){return[{title:"Edit",onClick:function(){return alert("Edit")}},{title:"Duplicate",onClick:function(){return alert("Duplicate")}},{title:"Delete",onClick:function(e,t,n){var r=K(n.id);r&&A(r)}}]}),[A,K]);i.useEffect((function(){H&&U()}),[H,U]);var J=i.useCallback((function(){C(!0)}),[C]),X=i.useCallback((function(e){e&&U(),C(!1)}),[C,U]),Z=i.useCallback((function(e,t){v(t)}),[v]),$=i.useCallback((function(e,t){v(1),_(t)}),[v,_]),ee=i.useCallback((function(e,t,n){O(u.Sort.by(t,n))}),[O]),te=i.useCallback((function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];switch(r.filter){case s.FilterColumn.NAME:k(r.data);break;case s.FilterColumn.DESCRIPTION:D(r.data);break;case s.FilterColumn.IS_ACTIVE:V(r.data)}}}),[k,D,V]),ne=i.useMemo((function(){var e;return(e={})[s.FilterColumn.NAME]={value:I,setter:function(e){k(e)}},e[s.FilterColumn.DESCRIPTION]={value:F,setter:D},e[s.FilterColumn.IS_ACTIVE]={value:B,setter:V},e}),[I,k,F,D,B,V]),re=i.useMemo((function(){return p.policyTableError(H,G.error,G.status)}),[H,G.error,G.status]);return i.createElement(i.Fragment,null,i.createElement(a.PageHeader,null,i.createElement(a.PageHeaderTitle,{title:"Custom policies"})),i.createElement(a.Main,null,i.createElement(a.Section,null,i.createElement(s.PolicyToolbar,{onCreatePolicy:q?J:void 0,onPaginationChanged:Z,onPaginationSizeChanged:$,page:r,pageCount:null===(t=G.payload)||void 0===t?void 0:t.length,perPage:b,filters:ne,clearFilters:te,count:G.count}),i.createElement(l.PolicyTable,{policies:G.payload,actions:Y,loading:G.loading,error:re,onSort:ee,sortBy:E}))),i.createElement(d.CreatePolicyWizard,{close:X,isOpen:S}),i.createElement(m.DeletePolicy,{onClose:Q,policy:j}))}},624:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(65),l=n(27),c=n(625),u=n(626),s=n(627),d=i(n(246)),f=n(628),p=a.style({margin:12}),m=a.style({maxWidth:800,marginBottom:12}),h=a.style({marginBottom:12}),v=a.style(r(r({backgroundColor:d.GlobalBackgroundColorLight300},f.padding(18,14)),{margin:5}));t.ExpandedContent=function(e){return o.createElement(l.Stack,{className:p},e.description&&o.createElement(l.StackItem,{className:m},o.createElement(c.Description,{description:e.description})),o.createElement(l.StackItem,{className:h},o.createElement(u.Dates,{updated:e.updated,created:e.created})),o.createElement(l.StackItem,null,o.createElement(l.Grid,null,o.createElement(l.GridItem,{className:v,span:6},o.createElement(s.Conditions,{conditions:e.conditions})),o.createElement(l.GridItem,{className:v,span:6},"Here be actions"))))}},625:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(27);t.Description=function(e){return i.createElement(i.Fragment,null,i.createElement(o.Title,{size:o.TitleSize.md},"Description"),i.createElement(o.Text,null," ",e.description," "))}},626:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(27),a=n(769);t.Dates=function(e){return i.createElement(i.Fragment,null,i.createElement(o.Text,null,"Last updated ",a.format(e.updated,"dd MMM yyyy")," | Created ",a.format(e.created,"dd MMM yyyy")))}},627:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(27),a=n(65).style({marginBottom:5});t.Conditions=function(e){return i.createElement(i.Fragment,null,i.createElement(o.Title,{className:a,size:o.TitleSize.md},"Conditions"),i.createElement(o.Text,null,e.conditions))}},636:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(245)),a=n(127);t.toServerPolicy=function(e){var t;return r(r({},e),{actions:null===(t=e.actions)||void 0===t?void 0:t.map((function(e){var t=e.type+" ";switch(e.type){case a.ActionType.WEBHOOK:t+=e.endpoint;break;case a.ActionType.EMAIL:t+=e.to+":"+e.subject+":"+e.message;break;default:!function(e){throw new Error("Unreachable")}()}return t})).join(";"),mtime:e.mtime?e.mtime.toUTCString():void 0})},t.toPolicy=function(e){return r(r({},e),{actions:[],mtime:o.default(e.mtime)})},t.toPolicies=function(e){return e.map(t.toPolicy)}},637:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMAIL="email",e.WEBHOOK="webhook"}(t.ActionType||(t.ActionType={}))},638:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=function(e,t,n){return 200===t&&e?n(e):void 0};t.useTransformPaginatedQueryResponse=function(e,t){var n=e.payload,i=e.query,l=e.status,c=o.useCallback((function(){return i().then((function(e){return r(r({},e),{payload:a(e.payload,e.status,t)})}))}),[i,t]),u=o.useMemo((function(){return a(n,l,t)}),[t,n,l]);return r(r({},e),{payload:u,query:c})}},639:function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a,l=o(n(1)),c=n(27),u=n(123);!function(e){e.NAME="name",e.DESCRIPTION="description",e.IS_ACTIVE="is_enabled"}(a=t.FilterColumn||(t.FilterColumn={}));var s=((r={})[a.NAME]="Name",r[a.DESCRIPTION]="Description",r[a.IS_ACTIVE]="Is Active?",r),d={enabled:"Active",disabled:"Inactive"},f=function(e,t){var n=e[t].value;return"string"==typeof n?function(e,t){var n=e.trim();if(""!==n)return{category:s[t],chips:[{name:n,isRead:!0}]}}(n,t):function(e,t){if(e.enabled||e.disabled)return{category:s[t],chips:Object.keys(e).filter((function(t){return e[t]})).map((function(e){return{name:d[e],isRead:!0,key:e}}))}}(n,t)},p=function(e,t){return console.log("placeholder",t,e)};t.PolicyToolbar=function(e){var t=e.clearFilters,n=e.filters,r=e.pageCount,o=e.count,m=e.page,h=e.perPage,v=e.onPaginationChanged,y=e.onPaginationSizeChanged,b=e.onCreatePolicy,_=l.useCallback((function(e,r){for(var o=[],l=0,c=r;l<c.length;l++){var u=c[l];switch(u.category){case s[a.NAME]:o.push({filter:a.NAME,data:""});break;case s[a.DESCRIPTION]:o.push({filter:a.DESCRIPTION,data:""});break;case s[a.IS_ACTIVE]:o.push({filter:a.IS_ACTIVE,data:i(i({},n[a.IS_ACTIVE].value),u.chips.reduce((function(e,t){return e[t.key]=!1,e}),{}))});break;default:throw new Error("Unknown filter found: "+u.category)}}t(o)}),[t,n]),g=l.useMemo((function(){return{count:0,items:[{title:"Select none (0)",onClick:p},{title:"Select all ("+r+")",onClick:p}],checked:!1,onSelect:p}}),[r]),E=l.useMemo((function(){return{items:[{label:"Name",type:"text",filterValues:{id:"filter-name",value:n[a.NAME].value,placeholder:"Filter by name",onChange:function(e,t){return n[a.NAME].setter(t)}}},{label:"Description",type:"text",filterValues:{id:"filter-description",value:n[a.DESCRIPTION].value,placeholder:"Filter by description",onChange:function(e,t){return n[a.DESCRIPTION].setter(t)}}},{label:"Is Active?",type:"checkbox",filterValues:{id:"filter-active",value:Object.keys(n[a.IS_ACTIVE].value).reduce((function(e,t){return n[a.IS_ACTIVE].value[t]&&e.push(t),e}),[]),items:Object.keys(n[a.IS_ACTIVE].value).map((function(e){return{label:d[e],value:e}})),placeholder:"Filter by Active status",onChange:function(e,t){for(var r={enabled:!1,disabled:!1},i=0,o=t;i<o.length;i++){var l=o[i];switch(l){case"enabled":r.enabled=!0;break;case"disabled":r.disabled=!0;break;default:throw new Error("Invalid filter active status found: "+l)}}n[a.IS_ACTIVE].setter(r)}}}]}}),[n]),O=l.useMemo((function(){return{itemCount:o||0,page:m,perPage:h,onSetPage:v,onFirstClick:v,onPreviousClick:v,onNextClick:v,onLastClick:v,onPageInput:v,onPerPageSelect:y,isCompact:!0,variant:c.PaginationVariant.right}}),[o,m,h,v,y]),P=l.useMemo((function(){for(var e=[],t=0,r=Object.values(a);t<r.length;t++){var i=r[t],o=f(n,i);o&&e.push(o)}return{filters:e,onDelete:_}}),[n,_]),S=l.useMemo((function(){return{actions:[l.createElement(c.Button,{key:"create-policy",onClick:b,isDisabled:!b},"Create policy")]}}),[b]);return l.createElement(l.Fragment,null,l.createElement(u.PrimaryToolbar,{bulkSelect:g,filterConfig:E,pagination:O,actionsConfig:S,activeFiltersConfig:P}))}},640:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(641),a=n(126),l=r(n(758)),c=n(759);t.CreatePolicyWizard=function(e){var t=a.useCreatePolicyMutation(),n=a.useVerifyPolicyMutation(),r=t.loading||n.loading;return i.createElement(i.Fragment,null,e.isOpen&&i.createElement(o.PolicyWizard,{initialValue:{},onClose:function(){e.close(!1)},onSave:function(n){return t.mutate(n).then((function(t){var r;switch(t.status){case l.CREATED:return c.addSuccessNotification("Created",'Policy "'+n.name+'" created'),e.close(!0),{created:!0};case l.BAD_REQUEST:case l.CONFLICT:case l.INTERNAL_SERVER_ERROR:default:return{created:!1,error:(null===(r=t.payload)||void 0===r?void 0:r.msg)||"Unknown Error when trying to create the policy: (Code "+t.status+")"}}}))},onVerify:function(e){return n.mutate(e).then((function(t){var n;switch(t.status){case l.OK:return{isValid:!0,conditions:e.conditions};case l.BAD_REQUEST:default:return{isValid:!1,error:(null===(n=t.payload)||void 0===n?void 0:n.msg)||"Unknown Error when trying to validate: (Code "+t.status+")",conditions:e.conditions}}}))},isLoading:r}))}},641:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(27),l=n(79),c=n(128),u=n(741),s=n(742),d=n(751),f=n(752),p=n(756),m=n(112),h=n(757),v=function(e,t,n,r,i){return!i&&(e===n||0!==e&&(t?e<=r:e<=n))},y=function(e,t){return!t&&e},b=function(e){var t=l.useFormikContext(),n=t.validateForm,i=t.handleSubmit;o.useEffect((function(){n()}),[e.currentStep,n]),o.useEffect((function(){e.submitAction!==c.WizardActionType.NONE&&i()}),[e.submitAction,i]);var u={isLoading:e.isLoading,isFormValid:t.isValid,triggerAction:e.setSubmitAction,verifyResponse:e.verifyResponse,createResponse:e.createResponse},s=function(e,t,n){return e.isValid?e.isValid(t,n):t.isFormValid}(e.steps[e.currentStep],u,t.values);u.isValid=s;var d=e.steps.map((function(t){return r(r({},t),{enableNext:y(s,e.isLoading),canJumpTo:v(t.id,s,e.currentStep,e.maxStep,e.isLoading)})}));return o.createElement(a.Form,null,o.createElement(c.WizardContext.Provider,{value:u},o.createElement(a.Wizard,{isOpen:!0,onSave:function(){e.setSubmitAction(c.WizardActionType.SAVE)},onClose:e.onClose,steps:d,startAtStep:e.currentStep+1,onNext:e.onMove,onBack:e.onMove,onGoToStep:e.onMove,title:"Add Custom Policy",description:"Custom policies are processed on reception of system profile messages. If condition(s) are met, defined action(s) are triggered.",footer:o.createElement(h.PolicyWizardFooter,{loadingText:"Loading",isLoading:e.isLoading})})))};t.PolicyWizard=function(e){var t=o.useState(0),n=t[0],i=t[1],a=o.useState(0),h=a[0],v=a[1],y=o.useState(c.WizardActionType.NONE),_=y[0],g=y[1],E=o.useState({isValid:!1}),O=E[0],P=E[1],S=o.useState({created:!1}),C=S[0],w=S[1],j=[u.createCustomPolicyStep({hideBackButton:!0}),s.createDetailsStep({hideBackButton:!0}),d.createConditionsStep(),f.createActionsStep(),p.createReviewStep({nextButtonText:"Finish"})].map((function(e,t){return r(r({},e),{id:t})}));return o.createElement(o.Fragment,null,o.createElement(l.Formik,{initialValues:e.initialValue,initialStatus:{},validateOnMount:!1,validationSchema:j[n].validationSchema,onSubmit:function(t,n){n.setSubmitting(!1),g(c.WizardActionType.NONE);var r=m.PolicyFormSchema.cast(t);switch(n.setValues(r),_){case c.WizardActionType.SAVE:e.onSave(r).then(w);break;case c.WizardActionType.VERIFY:e.onVerify(r).then(P);break;default:throw new Error("Unexpected action")}}},o.createElement(b,{currentStep:n,maxStep:h,isLoading:e.isLoading,submitAction:_,setSubmitAction:g,steps:j,verifyResponse:O,createResponse:C,onClose:e.onClose,onMove:function(e,t){var n=e.id;i(n),n>h&&v(n)}})))}},741:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(27),l=n(128),c=n(310),u=n(126),s=n(344),d=n(1),f=n(181),p=n(110),m=function(){var e=o.useState(!1),t=e[0],n=e[1],r=u.useGetPoliciesQuery(void 0,!1),i=r.loading,l=r.payload,m=r.query,h=r.error,v=r.status,y=d.useContext(f.RbacContext).canReadAll;return o.useEffect((function(){t&&!l&&m()}),[t,l,m]),o.createElement(o.Fragment,null,o.createElement(a.Form,null,o.createElement(a.Title,{headingLevel:"h4",size:"xl"},p.Messages.wizardCreatePolicy),o.createElement("span",null,"Define a new custom policy:"),o.createElement(a.Radio,{isChecked:!t,name:"from-scratch",id:"create-new-custom-policy-from-scratch",onChange:function(){n(!1)},label:"From scratch"}),o.createElement(a.Radio,{isChecked:t,name:"as-copy",id:"create-new-custom-policy-as-copy",onChange:function(){n(!0)},label:"As a copy of existing Custom Policy"}),t&&o.createElement(o.Fragment,null,o.createElement(a.InputGroup,null,o.createElement(a.TextInput,{"aria-label":"Filter by name",placeholder:"Filter by name"}),o.createElement(a.Button,{"aria-label":"Filter"},"Filter")),o.createElement(c.PolicyTable,{loading:i,policies:l,error:s.policyTableError(y,h,v)}))))};t.createCustomPolicyStep=function(e){return r({name:p.Messages.wizardCreatePolicy,component:o.createElement(m,null),validationSchema:l.AlwaysValid},e)}},742:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(27),l=n(111),c=n(112),u=n(110),s=function(){return o.createElement(a.Form,null,o.createElement(a.Title,{headingLevel:"h4",size:"xl"},u.Messages.wizardDetails),o.createElement(l.FormTextInput,{isRequired:!0,label:"Name",type:"text",name:"name",id:"name"}),o.createElement(l.FormTextInput,{label:"Description",type:"text",id:"description",name:"description"}))};t.createDetailsStep=function(e){return r({name:u.Messages.wizardDetails,component:o.createElement(s,null),validationSchema:c.PolicyFormDetails},e)}},743:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(79),l=n(27),c=n(138);t.Checkbox=function(e){var t=a.useField(r(r({},e),{type:"checkbox"})),n=t[0],i=t[1],u=!i.error||!i.touched;return o.createElement(l.FormGroup,{fieldId:e.id,helperTextInvalid:i.error,isRequired:e.isRequired,isValid:u,label:e.label},o.createElement(l.Checkbox,r({isChecked:n.checked},e,n,{isValid:u,onChange:c.onChangePFAdapter(n)})))}},744:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(79),l=n(27),c=n(138);t.FormSelect=function(e){var t=a.useField(r({},e)),n=t[0],i=t[1],u=!i.error||!i.touched;return o.createElement(l.FormGroup,{fieldId:e.id,helperTextInvalid:i.error,isRequired:e.isRequired,isValid:u,label:e.label},o.createElement(l.FormSelect,r({},e,n,{onChange:c.onChangePFAdapter(n),isValid:u}),e.children))}},745:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1)),l=n(79),c=n(27),u=n(138);t.Switch=function(e){var t=l.useField(r(r({},e),{type:"checkbox"})),n=t[0],o=t[1],s=e.labelOn,d=i(e,["labelOn"]),f=!o.error||!o.touched;return a.createElement(c.FormGroup,{fieldId:e.id,helperTextInvalid:o.error,isRequired:e.isRequired,isValid:f,label:e.label},a.createElement("div",null,a.createElement(c.Switch,r({isChecked:n.checked},d,n,{label:s,onChange:u.onChangePFAdapter(n)}))))}},746:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(79),l=n(27),c=n(138);t.FormTextInput=function(e){var t=a.useField(r({},e)),n=t[0],i=t[1],u=!i.error||!i.touched;return o.createElement(l.FormGroup,{fieldId:e.id,helperTextInvalid:i.error,isRequired:e.isRequired,isValid:u,label:e.label},o.createElement(l.TextInput,r({},e,n,{value:n.value||"",isValid:u,onChange:c.onChangePFAdapter(n)})))}},747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(748);t.ActionSchema=r.ActionSchema;var i=n(749);t.ActionEmailSchema=i.ActionEmailSchema;var o=n(750);t.ActionWebhookSchema=o.ActionWebhookSchema},748:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(98));t.ActionSchema=i.object().shape({type:i.mixed().required("Specify the action type")})},749:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(98));t.ActionEmailSchema=i.object().shape({type:i.mixed()})},750:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(98));t.ActionWebhookSchema=i.object().shape({type:i.mixed(),endpoint:i.string().url("The url for the endpoint is not valid").required("Specify the endpoint url").trim()})},751:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(27),l=n(113),c=n(111),u=n(128),s=n(112),d=n(79),f=n(65),p=n(246),m=n(110),h=f.style({marginTop:"auto",marginBottom:"auto"}),v=function(e){return e.changed?null:e.isValid?o.createElement(o.Fragment,null,o.createElement(l.CheckCircleIcon,{className:h,color:p.GlobalSuccessColor200}),o.createElement("div",{className:h},"Condition is valid")):e.error?o.createElement(o.Fragment,null,o.createElement(l.ExclamationCircleIcon,{className:h,color:p.GlobalDangerColor100}),o.createElement("div",{className:h},"Invalid condition"),o.createElement("div",{className:h}," ",e.error," ")):null},y=function(){var e=o.useContext(u.WizardContext),t=d.useFormikContext().values;return o.createElement(a.Form,null,o.createElement(a.Title,{headingLevel:"h4",size:"xl"},m.Messages.wizardConditions),o.createElement(c.FormTextInput,{isRequired:!0,label:"Condition text",type:"text",id:"conditions",name:"conditions",placeholder:'arch = "x86_64"'}),o.createElement(a.ActionGroup,null,t.conditions&&""!==t.conditions&&o.createElement(o.Fragment,null,o.createElement(a.Button,{onClick:function(){e.triggerAction(u.WizardActionType.VERIFY)},variant:a.ButtonVariant.secondary},"Test condition"),o.createElement(v,r({},e.verifyResponse,{changed:e.verifyResponse.conditions!==t.conditions})))))};t.createConditionsStep=function(e){return r({name:m.Messages.wizardConditions,component:o.createElement(y,null),validationSchema:s.PolicyFormConditions,isValid:function(e,t){return t.conditions===e.verifyResponse.conditions&&e.verifyResponse.isValid}},e)}},752:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(27),l=n(112),c=n(79),u=n(345),s=n(110),d=function(){var e,t=c.useFormikContext(),n=t.validateForm,r=null===(e=t.values.actions)||void 0===e?void 0:e.length;return o.useEffect((function(){n()}),[n,r]),o.createElement(a.Form,null,o.createElement(a.Title,{headingLevel:"h4",size:"xl"},s.Messages.wizardActions),o.createElement(c.FieldArray,{name:"actions"},(function(e){return o.createElement(u.ActionsForm,{id:"actions",name:"actions",actions:e.form.values.actions,arrayHelpers:e})})))};t.createActionsStep=function(e){return r({name:s.Messages.wizardActions,component:o.createElement(d,null),validationSchema:l.PolicyFormActions},e)}},753:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(127),l=n(754),c=n(755);t.ActionForm=function(e){var t,n;switch((null===(t=e.action)||void 0===t?void 0:t.type)||void 0){case a.ActionType.EMAIL:return o.createElement(l.ActionEmailForm,r({},e));case a.ActionType.WEBHOOK:return o.createElement(c.ActionWebhookForm,r({},e));case void 0:return null;default:throw new Error("Unexpected action type:["+(null===(n=e.action)||void 0===n?void 0:n.type)+"]")}}},754:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionEmailForm=function(e){return null}},755:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(111),o=r(n(1));t.ActionWebhookForm=function(e){var t=e.prefix+".endpoint";return o.createElement(o.Fragment,null,o.createElement(i.FormTextInput,{isReadOnly:e.isReadOnly,type:"text",name:t,id:t,label:"Endpoint",isRequired:!0}))}},756:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(79),l=n(128),c=n(111),u=n(27),s=n(345),d=n(112),f=n(1),p=n(246),m=n(113),h=n(65),v=n(110),y=h.style({marginRight:5}),b=function(){var e=f.useContext(l.WizardContext);return o.createElement(o.Fragment,null,o.createElement(u.Form,null,o.createElement(u.Title,{headingLevel:"h4",size:"xl"},v.Messages.wizardReview),o.createElement(c.Switch,{isDisabled:e.isLoading,type:"checkbox",id:"isEnabled",name:"isEnabled",label:"Activate Policy?"}),o.createElement(c.FormTextInput,{isReadOnly:!0,label:"Name",type:"text",name:"name",id:"name"}),o.createElement(c.FormTextInput,{isReadOnly:!0,label:"Description",type:"text",id:"description",name:"description"}),o.createElement(c.FormTextInput,{isReadOnly:!0,label:"Condition text",type:"text",id:"conditions",name:"conditions"}),o.createElement(a.FieldArray,{name:"actions"},(function(e){return o.createElement(s.ActionsForm,{id:"actions",name:"actions",isReadOnly:!0,actions:e.form.values.actions,arrayHelpers:e})})),e.createResponse.error&&o.createElement(u.Split,null,o.createElement(u.SplitItem,null,o.createElement(m.ExclamationCircleIcon,{className:y,color:p.GlobalDangerColor100})),o.createElement(u.SplitItem,null," ",e.createResponse.error," "))))};t.createReviewStep=function(e){return r({name:v.Messages.wizardReview,component:o.createElement(b,null),validationSchema:d.PolicyFormSchema},e)}},757:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(27),a=n(208),l=n(65).style({marginTop:"auto",marginBottom:14});t.PolicyWizardFooter=function(e){return i.createElement(o.WizardFooter,null,i.createElement(o.WizardContextConsumer,null,(function(t){var n=t;return i.createElement(i.Fragment,null,i.createElement(o.Button,{variant:o.ButtonVariant.primary,type:"submit",onClick:n.onNext,isDisabled:e.isLoading||!n.activeStep.enableNext},n.activeStep.nextButtonText||"Next"),!n.activeStep.hideBackButton&&i.createElement(o.Button,{variant:o.ButtonVariant.secondary,onClick:n.onBack,isDisabled:0===n.activeStep.id||e.isLoading},"Back"),!n.activeStep.hideCancelButton&&i.createElement(o.Button,{variant:o.ButtonVariant.link,onClick:n.onClose,isDisabled:e.isLoading},"Cancel"),e.isLoading&&i.createElement("div",{className:l},e.loadingText,"  ",i.createElement(a.Spinner,{size:"md"})))})))}},759:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(157),o=n(257);!function(e){e.SUCCESS="success",e.DANGER="danger",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"}(r=t.NotificationType||(t.NotificationType={})),t.addNotification=function(e,t,n){o.getStore().dispatch(i.addNotification({variant:e,title:t,description:n}))},t.addSuccessNotification=function(e,n){t.addNotification(r.SUCCESS,e,n)},t.addDangerNotification=function(e,n){t.addNotification(r.DANGER,e,n)}},760:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(27),a=n(126),l=n(208);t.DeletePolicy=function(e){var t=e.policy,n=e.onClose,r=a.useDeletePolicyMutation(),c=r.mutate,u=r.loading,s=i.useCallback((function(){n(!1)}),[n]),d=i.useCallback((function(){if(!t)throw Error("Policy has not been set");c(t).then((function(){n(!0)}))}),[c,t,n]),f=i.useMemo((function(){return[i.createElement(o.Button,{key:"confirm",variant:o.ButtonVariant.danger,onClick:d,isDisabled:u},u?i.createElement(l.Spinner,{size:"md"}):"Delete"),i.createElement(o.Button,{key:"cancel",variant:o.ButtonVariant.link,onClick:s,isDisabled:u},"Cancel")]}),[u,s,d]);return e.policy?i.createElement(o.Modal,{title:"Delete policy",isOpen:!0,onClose:s,actions:f,isFooterLeftAligned:!0,isSmall:!0},"Do you want to delete the policy: ",e.policy.name," ?"):null}},761:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(762))},762:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(770);t.useDebouncedState=function(e,t){var n=i.useState(e),r=n[0],a=n[1],l=i.useState(e),c=l[0],u=l[1],s=i.useCallback((function(){u(r)}),[r,u]),d=o.useDebounce(s,t,[s])[0];return[r,a,c,d]}},765:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(123),a=n(27);t.AppSkeleton=function(){return i.createElement(i.Fragment,null,i.createElement(o.PageHeader,null,i.createElement("div",{className:"pf-c-content"},i.createElement(o.PageHeaderTitle,{title:i.createElement(o.Skeleton,{size:"sm"})}))),i.createElement(o.Main,null,i.createElement(o.Section,null,i.createElement(a.Bullseye,null,i.createElement(o.Spinner,{centered:!0})))))}},766:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(177),i=n(253);t.client=r.createClient({requestInterceptors:[function(e){return function(e){return i.getInsights().then((function(e){return e.chrome.auth.getUser()})).then((function(){return e}))}}]})}});
//# sourceMappingURL=App.js.map