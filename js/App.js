!function(e){function t(t){for(var r,i,o=t[0],a=t[1],l=t[2],c=0,u=[];c<o.length;c++)i=o[c],Object.prototype.hasOwnProperty.call(I,i)&&I[i]&&u.push(I[i][0]),I[i]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(N&&N(t);u.length;)u.shift()();return M.push.apply(M,l||[]),n()}function n(){for(var e,t=0;t<M.length;t++){for(var n=M[t],r=!0,i=1;i<n.length;i++){var o=n[i];0!==I[o]&&(r=!1)}r&&(M.splice(t--,1),e=k(k.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!O[e]||!E[e])return;for(var n in E[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n]);0==--g&&0===b&&w()}(e,t),r&&r(e,t)};var i,o=!0,a="8f6b1fe43938432084e6",l=1e4,c={},u=[],s=[];function d(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:i!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:C,apply:A,status:function(e){if(!e)return p;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:c[e]};return i=void 0,t}var f=[],p="idle";function m(e){p=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var h,v,y,g=0,b=0,_={},E={},O={};function P(e){return+e+""===e?+e:e}function C(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return o=e,m("check"),(t=l,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=k.p+""+a+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return m("idle"),null;E={},_={},O=e.c,y=e.h,m("prepare");var t=new Promise((function(e,t){h={resolve:e,reject:t}}));for(var n in v={},I)S(n);return"prepare"===p&&0===b&&0===g&&w(),t}));var t}function S(e){O[e]?(E[e]=!0,g++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=k.p+""+e+"."+a+".hot-update.js",document.head.appendChild(t)}(e)):_[e]=!0}function w(){m("ready");var e=h;if(h=null,e)if(o)Promise.resolve().then((function(){return A(o)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&t.push(P(n));e.resolve(t)}}function A(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var n,r,i,o,l;function s(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var i=r.pop(),a=i.id,l=i.chain;if((o=j[a])&&!o.hot._selfAccepted){if(o.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:a};if(o.hot._main)return{type:"unaccepted",chain:l,moduleId:a};for(var c=0;c<o.parents.length;c++){var u=o.parents[c],s=j[u];if(s){if(s.hot._declinedDependencies[a])return{type:"declined",chain:l.concat([u]),moduleId:a,parentId:u};-1===t.indexOf(u)&&(s.hot._acceptedDependencies[a]?(n[u]||(n[u]=[]),d(n[u],[a])):(delete n[u],t.push(u),r.push({chain:l.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var f={},h=[],g={},b=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var _ in v)if(Object.prototype.hasOwnProperty.call(v,_)){var E;l=P(_);var C=!1,S=!1,w=!1,A="";switch((E=v[_]?s(l):{type:"disposed",moduleId:_}).chain&&(A="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(C=new Error("Aborted because of self decline: "+E.moduleId+A));break;case"declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(C=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+A));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(E),t.ignoreUnaccepted||(C=new Error("Aborted because "+l+" is not accepted"+A));break;case"accepted":t.onAccepted&&t.onAccepted(E),S=!0;break;case"disposed":t.onDisposed&&t.onDisposed(E),w=!0;break;default:throw new Error("Unexception type "+E.type)}if(C)return m("abort"),Promise.reject(C);if(S)for(l in g[l]=v[l],d(h,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,l)&&(f[l]||(f[l]=[]),d(f[l],E.outdatedDependencies[l]));w&&(d(h,[E.moduleId]),g[l]=b)}var M,T=[];for(r=0;r<h.length;r++)l=h[r],j[l]&&j[l].hot._selfAccepted&&g[l]!==b&&T.push({module:l,errorHandler:j[l].hot._selfAccepted});m("dispose"),Object.keys(O).forEach((function(e){!1===O[e]&&function(e){delete I[e]}(e)}));for(var F,x,N=h.slice();N.length>0;)if(l=N.pop(),o=j[l]){var D={},R=o.hot._disposeHandlers;for(i=0;i<R.length;i++)(n=R[i])(D);for(c[l]=D,o.hot.active=!1,delete j[l],delete f[l],i=0;i<o.children.length;i++){var V=j[o.children[i]];V&&((M=V.parents.indexOf(l))>=0&&V.parents.splice(M,1))}}for(l in f)if(Object.prototype.hasOwnProperty.call(f,l)&&(o=j[l]))for(x=f[l],i=0;i<x.length;i++)F=x[i],(M=o.children.indexOf(F))>=0&&o.children.splice(M,1);for(l in m("apply"),a=y,g)Object.prototype.hasOwnProperty.call(g,l)&&(e[l]=g[l]);var B=null;for(l in f)if(Object.prototype.hasOwnProperty.call(f,l)&&(o=j[l])){x=f[l];var L=[];for(r=0;r<x.length;r++)if(F=x[r],n=o.hot._acceptedDependencies[F]){if(-1!==L.indexOf(n))continue;L.push(n)}for(r=0;r<L.length;r++){n=L[r];try{n(x)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:l,dependencyId:x[r],error:e}),t.ignoreErrored||B||(B=e)}}}for(r=0;r<T.length;r++){var z=T[r];l=z.module,u=[l];try{k(l)}catch(e){if("function"==typeof z.errorHandler)try{z.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:n,originalError:e}),t.ignoreErrored||B||(B=n),B||(B=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:l,error:e}),t.ignoreErrored||B||(B=e)}}return B?(m("fail"),Promise.reject(B)):(m("idle"),new Promise((function(e){e(h)})))}var j={},I={0:0},M=[];function k(t){if(j[t])return j[t].exports;var n=j[t]={i:t,l:!1,exports:{},hot:d(t),parents:(s=u,u=[],s),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=j[e];if(!t)return k;var n=function(n){return t.hot.active?(j[n]?-1===j[n].parents.indexOf(e)&&j[n].parents.push(e):(u=[e],i=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),u=[]),k(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return k[e]},set:function(t){k[e]=t}}};for(var o in k)Object.prototype.hasOwnProperty.call(k,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,r(o));return n.e=function(e){return"ready"===p&&m("prepare"),b++,k.e(e).then(t,(function(e){throw t(),e}));function t(){b--,"prepare"===p&&(_[e]||S(e),0===b&&0===g&&w())}},n.t=function(e,t){return 1&t&&(e=n(e)),k.t(e,-2&t)},n}(t)),n.l=!0,n.exports}k.m=e,k.c=j,k.d=function(e,t,n){k.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},k.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},k.t=function(e,t){if(1&t&&(e=k(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(k.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)k.d(n,r,function(t){return e[t]}.bind(null,r));return n},k.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return k.d(t,"a",t),t},k.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},k.p="/beta/apps/custom-policies/",k.h=function(){return a};var T=window.webpackJsonp=window.webpackJsonp||[],F=T.push.bind(T);T.push=t,T=T.slice();for(var x=0;x<T.length;x++)t(T[x]);var N=F;M.push([367,1]),n()}({110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onChangePFAdapter=function(e){return function(t,n){return e.onChange(n)}},t.onChangePFAdapterCheckbox=function(e){return function(t,n){return(0,e.onChange)(t,n.target.name)}}},111:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(75),o=r(n(86)),a=n(726),l=n(86);t.PolicyFormDetails=o.object().shape({description:o.string().notRequired().trim(),isEnabled:o.boolean().notRequired(),name:o.string().required("Write a name for this Custom policies").trim()}),t.PolicyFormActions=o.object().shape({actions:o.array(o.lazy((function(e){switch(e.type){case i.ActionType.EMAIL:return a.ActionEmailSchema;case i.ActionType.WEBHOOK:return a.ActionWebhookSchema;case void 0:return a.ActionSchema}throw new Error("Unknown action type. Implement the new type in the schema selector")}))).test("one-email","Only one Email action type is allowed",(function(e){var t=e&&e.reduce((function(e,t,n){return t.type===i.ActionType.EMAIL?e.concat([n]):e}),[]);if(!t||t.length<=1)return!0;var n=new l.ValidationError("","","actions","");return n.inner=t.map((function(e){return new l.ValidationError("Only one Email action is allowed","email","actions."+e+".type")})),n}))}),t.PolicyFormConditions=o.object().shape({conditions:o.string().required("Write a condition").trim()}),t.PolicyFormSchema=o.object().concat(t.PolicyFormDetails).concat(t.PolicyFormActions).concat(t.PolicyFormConditions)},124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=10,i=function(){function e(e,t,n,i){this.index=e,this.size=t||r,this.filter=n,this.sort=i}return e.of=function(t,n,r,i){return new e(t,n,r,i)},e.defaultPage=function(){return new e(1,r)},e}();t.Page=i;var o=function(e,t,n){this.column=e,this.operator=t,this.value=n},a=function(){function e(){this.elements=this._elements=[]}return e.prototype.and=function(e,t,n){this._elements.push(new o(e,t,n))},e}();t.Filter=a;var l=function(){function e(e,t){this.column=e,this.direction=t}return e.by=function(t,n){return new e(t,n)},e}();t.Sort=l,function(e){e.ASCENDING="ASC",e.DESCENDING="DESC"}(t.Direction||(t.Direction={})),function(e){e.EQUAL="EQUAL",e.LIKE="LIKE",e.ILIKE="ILIKE",e.NOT_EQUAL="NOT_EQUAL",e.BOOLEAN_IS="BOOLEAN_IS"}(t.Operator||(t.Operator={}))},125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalBackgroundColor100="#fff",t.GlobalBackgroundColor150="#f5f5f5",t.GlobalBackgroundColor200="#fafafa",t.GlobalBackgroundColor300="#ededed",t.GlobalBackgroundColorDark100="#151515",t.GlobalBackgroundColorDark200="#3c3f42",t.GlobalBackgroundColorDark300="#212427",t.GlobalBackgroundColorDark400="#4f5255",t.GlobalBackgroundColorLight100="#fff",t.GlobalBackgroundColorLight200="#fafafa",t.GlobalBackgroundColorLight300="#ededed",t.GlobalDangerColor100="#c9190b",t.GlobalDangerColor200="#a30000",t.GlobalDangerColor300="#470000",t.GlobalSuccessColor100="#92d400",t.GlobalSuccessColor200="#486b00"},126:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(178)),a=n(120),l=n(124),c=n(238),u=n(613),s=n(307),d=o.default.apis.urls,f=function(e,t,n,r){return{method:e,endpoint:t+(n?"?"+new URLSearchParams(n).toString():""),body:r}},p=function(e,t,n,r,i){return a.useQuery(f(e,t,r,i),n)},m=function(e,t,n,i,o,a){var c,u=p(e,t,i,function(e,t){if(t||(t=l.Page.defaultPage()),e||(e={}),e.offset=(t.index-1)*t.size,e.limit=t.size,t.filter)for(var n=0,r=t.filter.elements;n<r.length;n++){var i=r[n];e["filter["+i.column+"]"]=i.value,e["filter:op["+i.column+"]"]=i.operator}return t.sort&&(e.sortColumn=t.sort.column,e.sortDirection=t.sort.direction),e}(o,n),a),s=null===(c=u.headers)||void 0===c?void 0:c.get("TotalCount");return r({count:s?+s:s},u)};t.useGetFactsQuery=function(e){return p("GET",d.facts,e)},t.useGetPoliciesQuery=function(e,t){return u.useTransformPaginatedQueryResponse(m("GET",d.policies,e,t),c.toPolicies)},t.useSavePolicyMutation=function(){return a.useMutation((function(e){return e.id?f("PUT",d.policy(e.id),{},c.toServerPolicy(e)):f("POST",d.policies,{alsoStore:!0},c.toServerPolicy(e))}))},t.useVerifyPolicyMutation=function(){return a.useMutation((function(e){return f("POST",d.validateCondition,{},c.toServerPolicy(e))}))},t.useBulkDeletePolicyMutation=function(){return s.useBulkMutation((function(e){return f("DELETE",d.policy(e.id))}))},t.useGetPolicyQuery=function(e,t){return p("GET",d.policy(e),t)}},127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NAME="name",e.DESCRIPTION="description",e.IS_ACTIVE="is_enabled"}(t.PolicyFilterColumn||(t.PolicyFilterColumn={}))},128:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(86));t.AlwaysValid=o.object(),function(e){e.SAVE="CREATE",e.VALIDATE_CONDITION="VALIDATE_CONDITION",e.NONE="NONE"}(t.WizardActionType||(t.WizardActionType={})),t.WizardContext=i.createContext({isLoading:!1,isFormValid:!1,triggerAction:function(){throw Error("Action executed without WizardContext")},verifyResponse:{isValid:!1},createResponse:{created:!1},setVerifyResponse:function(){throw Error("setVerifyResponse executed without WizardContext")}})},138:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(21),l=function(e){return e.preventDefault()};t.Form=function(e){return o.createElement(a.Form,r({onSubmit:l},e),e.children)}},178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return"/api/custom-policies/v1.0/"+e},i={appId:"custom-policies",apis:{version:"v1.0",urls:{base:"/api/custom-policies/v1.0",facts:r("facts"),policies:r("policies"),validateCondition:r("policies/validate"),policy:function(e){return r("policies/"+e)}}}};t.default=i},237:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1)),l=n(90),c=n(75),u=n(85);t.ActionEmailIcon=l.EnvelopeIcon,t.ActionWebhookIcon=l.HashtagIcon,t.ActionIcon=function(e){var n=e.actionType,o=i(e,["actionType"]);switch(n){case c.ActionType.WEBHOOK:return a.createElement(t.ActionWebhookIcon,r({},o));case c.ActionType.EMAIL:return a.createElement(t.ActionEmailIcon,r({},o));case void 0:break;default:u.assertNever(n)}return null}},238:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(236)),a=n(75),l=n(85);t.toServerAction=function(e){return e.map((function(e){if(!e||!e.type)return"";var t=""+e.type;switch(e.type){case a.ActionType.WEBHOOK:case a.ActionType.EMAIL:break;default:l.assertNever(e.type)}return t})).join(";")},t.fromServerActions=function(e){if(!e||""===e)return[];for(var t=[],n=0,r=e.split(";");n<r.length;n++){var i=r[n].split(" ",2)[0];switch(i){case a.ActionType.WEBHOOK:t.push({type:a.ActionType.WEBHOOK});break;case a.ActionType.EMAIL:t.push({type:a.ActionType.EMAIL});break;default:throw Error("Unknown action.type="+i+" found")}}return t},t.toServerPolicy=function(e){return r(r({},e),{isEnabled:void 0!==e.isEnabled&&e.isEnabled,actions:e.actions?t.toServerAction(e.actions):"",mtime:e.mtime?e.mtime.toJSON():void 0})},t.toPolicy=function(e){return r(r({},e),{actions:t.fromServerActions(e.actions),mtime:o.default(e.mtime)})},t.toPolicies=function(e){return e.data.map(t.toPolicy)},t.makeCopyOfPolicy=function(e){return r(r({},e),{name:"Copy of "+e.name,mtime:void 0,id:void 0,customerid:void 0})}},239:function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a,l=o(n(1)),c=n(21),u=n(122),s=n(127);!function(e){e[e.NONE=0]="NONE",e[e.PAGE=1]="PAGE"}(a=t.SelectionCommand||(t.SelectionCommand={}));var d=((r={})[s.PolicyFilterColumn.NAME]="Name",r[s.PolicyFilterColumn.DESCRIPTION]="Description",r[s.PolicyFilterColumn.IS_ACTIVE]="Is Active?",r),f={enabled:"Active",disabled:"Inactive"},p=function(e,t){var n=e[t];return"string"==typeof n?function(e,t){var n=e.trim();if(""!==n)return{category:d[t],chips:[{name:n,isRead:!0}]}}(n,t):function(e,t){if(e.enabled||e.disabled)return{category:d[t],chips:Object.keys(e).filter((function(t){return e[t]})).map((function(e){return{name:f[e],isRead:!0,key:e}}))}}(n,t)};t.PolicyToolbar=function(e){var t=e.clearFilters,n=e.filterElements,r=e.setFilterElements,o=e.pageCount,m=e.count,h=e.page,v=e.perPage,y=e.showPerPageOptions,g=e.onPaginationChanged,b=e.onPaginationSizeChanged,_=e.onCreatePolicy,E=e.onDeletePolicy,O=e.hideActions,P=e.onSelectionChanged,C=e.selectedCount,S=e.hideBulkSelect,w=l.useCallback((function(e,r){for(var o=[],a=0,l=r;a<l.length;a++){var c=l[a];switch(c.category){case d[s.PolicyFilterColumn.NAME]:o.push({filter:s.PolicyFilterColumn.NAME,data:""});break;case d[s.PolicyFilterColumn.DESCRIPTION]:o.push({filter:s.PolicyFilterColumn.DESCRIPTION,data:""});break;case d[s.PolicyFilterColumn.IS_ACTIVE]:o.push({filter:s.PolicyFilterColumn.IS_ACTIVE,data:i(i({},n[s.PolicyFilterColumn.IS_ACTIVE]),c.chips.reduce((function(e,t){return e[t.key]=!1,e}),{}))});break;default:throw new Error("Unknown filter found: "+c.category)}}t(o)}),[t,n]),A=l.useMemo((function(){if(!S){var e=function(){return P&&P(a.NONE)},t=function(){return P&&P(a.PAGE)};return{count:C||0,items:[{title:"Select none (0)",onClick:e},{title:"Select page ("+(o||0)+")",onClick:t}],checked:C===o,onSelect:function(n){return n?t():e()}}}}),[C,o,P,S]),j=l.useMemo((function(){return{items:[{label:"Name",type:"text",filterValues:{id:"filter-name",value:n[s.PolicyFilterColumn.NAME],placeholder:"Filter by name",onChange:function(e,t){return r[s.PolicyFilterColumn.NAME](t)}}},{label:"Description",type:"text",filterValues:{id:"filter-description",value:n[s.PolicyFilterColumn.DESCRIPTION],placeholder:"Filter by description",onChange:function(e,t){return r[s.PolicyFilterColumn.DESCRIPTION](t)}}},{label:"Is Active?",type:"radio",filterValues:{id:"filter-active",value:Object.keys(n[s.PolicyFilterColumn.IS_ACTIVE]).reduce((function(e,t){return n[s.PolicyFilterColumn.IS_ACTIVE][t]&&(e=t),e}),"all"),items:[{label:"All",value:"all"}].concat(Object.keys(n[s.PolicyFilterColumn.IS_ACTIVE]).map((function(e){return{label:f[e],value:e}}))),placeholder:"Filter by Active status",onChange:function(e,t){var n={enabled:!1,disabled:!1};["enabled","disabled"].includes(t)&&(n[t]=!0),r[s.PolicyFilterColumn.IS_ACTIVE](n)}}}]}}),[n,r]),I=l.useMemo((function(){return{itemCount:m||0,page:h,perPage:v,perPageOptions:y?void 0:[],onSetPage:g,onFirstClick:g,onPreviousClick:g,onNextClick:g,onLastClick:g,onPageInput:g,onPerPageSelect:b,isCompact:!0,variant:c.PaginationVariant.right}}),[y,m,h,v,g,b]),M=l.useMemo((function(){for(var e=[],t=0,r=Object.values(s.PolicyFilterColumn);t<r.length;t++){var i=r[t],o=p(n,i);o&&e.push(o)}return{filters:e,onDelete:w}}),[n,w]),k=l.useMemo((function(){if(!O)return{actions:[{key:"create-policy",label:"Create policy",onClick:_,props:{onClick:_,isDisabled:!_}},{key:"delete-policy",label:1===C?"Delete policy":"Delete policies",onClick:E,props:{isDisabled:!(C&&E)}}],kebabToggleProps:{isDisabled:!(C&&E)}}}),[_,E,C,O]);return l.createElement(l.Fragment,null,l.createElement(u.PrimaryToolbar,{bulkSelect:A,filterConfig:j,pagination:I,actionsConfig:k,activeFiltersConfig:M}))}},246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(721);t.Checkbox=r.Checkbox;var i=n(722);t.FormSelect=i.FormSelect;var o=n(723);t.Switch=o.Switch;var a=n(724);t.FormTextInput=a.FormTextInput;var l=n(725);t.FormTextArea=l.FormTextArea},247:function(e,t,n){"use strict";(function(e){var n,r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getInsights=function(){return n||(n=new Promise((function(t){return r(void 0,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return e.hasOwnProperty("insights")?[3,2]:[4,new Promise((function(e){return setTimeout(e,250)}))];case 1:return n.sent(),[3,0];case 2:return t(insights),[2]}}))}))}))),n}}).call(this,n(57))},251:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a=i(n(374)),l=i(n(746)),c=n(158);t.init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(o)throw new Error("store already initialized");return(o=new a.default({},r([l.default()],e))).register({notifications:c.notifications}),o},t.getStore=function(){return o.getStore()},t.register=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.register.apply(o,e)}},291:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1));t.RbacContext=i.createContext({canReadAll:!1,canWriteAll:!1})},299:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(343),l=n(21),c=n(122),u=n(90),s=n(124),d=n(598),f=n(84),p=n(85),m=n(612),h=["name","actions","is_enabled"],v=function(e){return o.createElement(o.Fragment,null,o.createElement(l.EmptyStateIcon,{icon:e.icon,color:e.iconColor}),o.createElement(l.Title,{headingLevel:"h2",size:"lg"},e.title),o.createElement(l.EmptyStateBody,null,e.content),e.action&&e.actionLabel&&o.createElement(l.Button,{variant:l.ButtonVariant.primary,onClick:e.action},e.actionLabel," "))},y=function(e,t,n,r){return t.indexOf(n[e])+r};t.PolicyTable=function(e){var t=e.onSort,n=e.error,i=e.policies,g=e.onCollapse,b=e.onSelect,_=e.columnsToShow||h,E=_.includes("radioSelect");if(E&&!b)throw Error("RadioSelect requires an onSelect");var O=o.useMemo((function(){var e=t?[a.sortable]:[];return{radioSelect:{title:"",transforms:[]},name:{title:"Name",transforms:e,cellFormatters:[a.expandable],column:"name"},actions:{title:"Run Actions",transforms:[]},is_enabled:{title:"Active",transforms:e,column:"is_enabled"}}}),[t]),P=o.useMemo((function(){return[g,b||_.includes("radioSelect")].filter((function(e){return e})).length}),[g,b,_]),C=o.useMemo((function(){return _.map((function(e){return O[e]}))}),[O,_]),S=o.useCallback((function(e,n,r){if(t){var i=function(e,t,n){return t[e-n].column}(n,C,P);i&&t(n,i,r===a.SortByDirection.asc?s.Direction.ASCENDING:s.Direction.DESCENDING)}}),[t,C,P]),w=o.useCallback((function(e,t,n,r){var o,a=null===(o=i)||void 0===o?void 0:o.findIndex((function(e){return e.id===r.id}));if(g&&i&&void 0!==a&&-1!==a){var l=i[a];g(l,a,n)}}),[i,g]),A=o.useCallback((function(e,t,n,r){var o,a=null===(o=i)||void 0===o?void 0:o.findIndex((function(e){return e.id===r.id}));if(b&&i&&void 0!==a&&-1!==a){var l=i[a];b(l,a,t)}}),[i,b]),j=o.useMemo((function(){if(e.sortBy)return{index:y(e.sortBy.column,C,O,P),direction:e.sortBy.direction===s.Direction.ASCENDING?"asc":"desc"}}),[e.sortBy,C,O,P]),I=o.useMemo((function(){return e.error||e.loading?[]:e.actions||[]}),[e.error,e.loading,e.actions]),M=o.useCallback((function(e){return void 0===e.parent?I:[]}),[I]),k=o.useMemo((function(){return n?function(e){return[{heightAuto:!0,showSelect:!1,cells:[{props:{colSpan:8},title:o.createElement(l.Bullseye,null,o.createElement(l.EmptyState,{variant:l.EmptyStateVariant.small},o.createElement(v,r({},e))))}]}]}(n):function(e,t,n){return e?e.reduce((function(r,i,a){return r.push({id:i.id,key:i.id,isOpen:i.isOpen,selected:i.isSelected,cells:t.map((function(t){switch(t){case"actions":return o.createElement(o.Fragment,null,o.createElement(m.ActionsCell,{actions:i.actions}));case"is_enabled":return i.isEnabled?o.createElement(o.Fragment,null,o.createElement(u.CheckCircleIcon,{color:"green"})):o.createElement(o.Fragment,null,o.createElement(u.OffIcon,null));case"name":return i.name;case"radioSelect":return o.createElement(o.Fragment,null,o.createElement(l.Radio,{id:i.id+"-table-radio-id","aria-label":"Radio select for policy "+i.name,name:"policy-table-radio-select",isChecked:i.isSelected,onChange:n?function(){var t=e.findIndex((function(e){return e.isSelected}));n(e[t],t,!1),n(i,a,!0)}:void 0}))}p.assertNever(t)}))}),r.push({parent:2*a,fullWidth:!0,showSelect:!1,cells:[o.createElement(o.Fragment,null,o.createElement(d.ExpandedContent,{key:i.id+"-content",description:i.description?i.description:f.Messages.tables.policy.emptyState.noDescription,conditions:i.conditions?i.conditions:f.Messages.tables.policy.emptyState.noConditions,actions:i.actions,created:new Date(2020,1,19),updated:i.mtime}))]}),r}),[]):[]}(i,_,b)}),[n,i,_,b]);return e.loading?o.createElement(c.SkeletonTable,{rowSize:e.loadingRowCount||10,columns:C}):o.createElement(a.Table,{"aria-label":f.Messages.tables.policy.title,cells:C,rows:k,actionResolver:M,onSort:t?S:void 0,onCollapse:g?w:void 0,onSelect:e.error||!b||E?void 0:A,sortBy:j,canSelectAll:!1},o.createElement(a.TableHeader,null),o.createElement(a.TableBody,null))}},306:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1));t.join=function(e,t){return e.reduce((function(n,r,o){return n.push(r),o!==e.length-1&&n.push(i.createElement(t,{key:o+"_joined_element"})),n}),[])},t.joinClasses=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join(" ")}},307:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(308)),r(n(616)),r(n(309)),r(n(310))},308:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(745);t.useDebouncedState=function(e,t){var n=i.useState(e),r=n[0],a=n[1],l=i.useState(e),c=l[0],u=l[1],s=i.useCallback((function(){u(r)}),[r,u]),d=o.useDebounce(s,t,[s])[0];return[r,a,c,d]}},309:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(308),a=n(127),l=function(e,t,n){return i.useMemo((function(){var r;return(r={})[a.PolicyFilterColumn.NAME]=e,r[a.PolicyFilterColumn.DESCRIPTION]=t,r[a.PolicyFilterColumn.IS_ACTIVE]=n,r}),[e,t,n])};t.usePolicyFilter=function(e){void 0===e&&(e=250);var t=o.useDebouncedState("",e),n=t[0],r=t[1],c=t[2],u=o.useDebouncedState("",e),s=u[0],d=u[1],f=u[2],p=o.useDebouncedState({enabled:!1,disabled:!1},e),m=p[0],h=p[1],v=p[2],y=i.useCallback((function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];switch(i.filter){case a.PolicyFilterColumn.NAME:r(i.data);break;case a.PolicyFilterColumn.DESCRIPTION:d(i.data);break;case a.PolicyFilterColumn.IS_ACTIVE:h(i.data)}}}),[r,d,h]);return{filters:l(n,s,m),setFilters:l(r,d,h),debouncedFilters:l(c,f,v),clearFilterHandler:y}}},310:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(124),a=n(127);t.usePolicyPage=function(e,t,n){var r=i.useState(1),l=r[0],c=r[1],u=i.useState(t||o.Page.defaultPage().size),s=u[0],d=u[1];i.useEffect((function(){c(1)}),[c,e]);var f=i.useMemo((function(){var t=new o.Filter;return""!==e[a.PolicyFilterColumn.NAME].trim()&&t.and(a.PolicyFilterColumn.NAME,o.Operator.ILIKE,"%"+e[a.PolicyFilterColumn.NAME].trim()+"%"),""!==e[a.PolicyFilterColumn.DESCRIPTION].trim()&&t.and(a.PolicyFilterColumn.DESCRIPTION,o.Operator.ILIKE,"%"+e[a.PolicyFilterColumn.DESCRIPTION].trim()+"%"),e[a.PolicyFilterColumn.IS_ACTIVE].disabled!==e[a.PolicyFilterColumn.IS_ACTIVE].enabled&&t.and(a.PolicyFilterColumn.IS_ACTIVE,o.Operator.BOOLEAN_IS,e[a.PolicyFilterColumn.IS_ACTIVE].enabled?"true":"false"),o.Page.of(l,s,t,n)}),[l,s,n,e]),p=i.useCallback((function(e,t){c(t)}),[c]),m=i.useCallback((function(e,t){c(1),d(t)}),[c,d]);return{page:f,itemsPerPage:s,currentPage:l,changePage:p,changeItemsPerPage:m}}},338:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(124);t.useSort=function(){var e=i.useState(),t=e[0],n=e[1];return{sortBy:t,onSort:i.useCallback((function(e,t,r){n(o.Sort.by(t,r))}),[n])}}},339:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1)),l=n(239),c=n(85);t.usePolicyRows=function(e){var t=a.useState([]),n=t[0],o=t[1];a.useEffect((function(){var t;e&&o(null===(t=e)||void 0===t?void 0:t.map((function(e){return r(r({},e),{isOpen:!1,isSelected:!1})})))}),[e]);var u=a.useCallback((function(e,t,n){o((function(o){var a=i(o);return a[t]=r(r({},e),{isOpen:n}),a}))}),[o]),s=a.useCallback((function(e,t,n){o((function(o){var a=i(o);return a[t]=r(r({},e),{isSelected:n}),a}))}),[o]),d=a.useCallback((function(e){e===l.SelectionCommand.NONE?o((function(e){return e.map((function(e){return r(r({},e),{isSelected:!1})}))})):e===l.SelectionCommand.PAGE?o((function(e){return e.map((function(e){return r(r({},e),{isSelected:!0})}))})):c.assertNever(e)}),[o]),f=a.useMemo((function(){return n.filter((function(e){return e.isSelected})).length}),[n]);return{rows:n,onCollapse:u,onSelect:s,onSelectionChanged:d,selectionCount:f}}},340:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(75),o=n(21),a=r(n(1)),l=n(90),c=n(732),u=n(85),s=n(49),d=n(237),f=s.style({marginTop:10}),p=s.style({marginLeft:10});t.ActionsForm=function(e){var t;return a.createElement(o.Form,null,null===(t=e.actions)||void 0===t?void 0:t.map((function(t,n){var r,s;return a.createElement(a.Fragment,{key:n},a.createElement(o.Card,{className:f},a.createElement(o.CardHead,null,a.createElement(o.CardActions,null,a.createElement(o.Button,{variant:"plain","aria-label":"Action",onClick:e.arrayHelpers.handleRemove(n)},a.createElement(l.TimesIcon,null))),a.createElement(o.CardHeader,null,a.createElement(a.Fragment,null,a.createElement(d.ActionIcon,{actionType:null===(r=t)||void 0===r?void 0:r.type}),a.createElement(o.Title,{className:p,size:"sm"},(null===(s=t)||void 0===s?void 0:s.type)?function(e){switch(e){case i.ActionType.EMAIL:return"Send email";case i.ActionType.WEBHOOK:return"Send to hook";default:u.assertNever(e)}}(t.type):"")))),a.createElement(o.CardBody,{className:"pf-c-form"},a.createElement(c.ActionForm,{isReadOnly:e.isReadOnly,action:t,prefix:"actions."+n}))))})))}},341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(158),o=n(251);!function(e){e.SUCCESS="success",e.DANGER="danger",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"}(r=t.NotificationType||(t.NotificationType={})),t.addNotification=function(e,t,n){o.getStore().dispatch(i.addNotification({variant:e,title:t,description:n}))},t.addSuccessNotification=function(e,n){t.addNotification(r.SUCCESS,e,n)},t.addDangerNotification=function(e,n){t.addNotification(r.DANGER,e,n)}},348:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=n(120),l=n(280),c=n(158),u=i(n(178)),s=n(443),d=n(291),f=n(469),p=n(740),m=n(741);n(742),n(743);var h=n(247);t.default=l.withRouter((function(e){var t=o.useState(void 0),n=t[0],r=t[1];return o.useEffect((function(){return h.getInsights().then((function(e){e.chrome.init(),e.chrome.identifyApp(u.default.appId)})),function(){h.getInsights().then((function(t){t.chrome.on("APP_NAVIGATION",(function(t){return e.history.push("/"+t.navId)}))}))}}),[e.history]),o.useEffect((function(){h.getInsights().then((function(e){e.chrome.auth.getUser().then((function(){s.fetchRBAC().then(r)}))}))}),[]),n?o.createElement(a.ClientContextProvider,{client:m.client},o.createElement(d.RbacContext.Provider,{value:n},o.createElement(c.NotificationsPortal,null),o.createElement(f.Routes,null))):o.createElement(p.AppSkeleton,null)}))},364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="/",n=e.split("/");return n.shift(),"beta"===n[0]&&(n.shift(),t="/beta/"),""+t+n[0]+"/"+(n[1]||"")}},367:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(22),a=n.n(o),l=n(254),c=n(151),u=n(251),s=n(348),d=n.n(s),f=n(364),p=n.n(f);a.a.render(i.a.createElement(c.Provider,{store:Object(u.init)().getStore()},i.a.createElement(l.a,{basename:p()(window.location.pathname)},i.a.createElement(d.a,null))),document.getElementById("root"))},443:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(444),o=r(n(281)),a=r(n(178)),l=function(){function e(e){this.accessPagination=e}return e.prototype.canRead=function(e){return this.findPermission(e,"read")},e.prototype.canWrite=function(e){return this.findPermission(e,"write")},e.prototype.canReadAll=function(){return this.canRead("*")},e.prototype.canWriteAll=function(){return this.canWrite("*")},e.prototype.findPermission=function(e,t){var n;if(!(null===(n=this.accessPagination)||void 0===n?void 0:n.data)||0===this.accessPagination.data.length)return!1;for(var r=0,i=this.accessPagination.data;r<i.length;r++){var o=i[r].permission.split(":");if(o[1]===e&&(o[2]===t||"*"===o[2]))return!0}return!1},e}();t.RawRbac=l,t.fetchRBAC=function(){var e=o.default.create();return new i.AccessApi(void 0,"/api/rbac/v1",e).getPrincipalAccess(a.default.appId).then((function(e){return new l(e.data)})).then((function(e){return{canReadAll:e.canReadAll(),canWriteAll:e.canWriteAll()}}))}},469:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(1)),c=n(280),u=[{path:"/list",component:a(n(470)).default,rootClass:"list"}],s=function(e){var t=e.rootClass,n=i(e,["rootClass"]),o=document.getElementById("root");if(!o)throw new Error("Root element not found");return o.removeAttribute("class"),o.classList.add("page__"+t,"pf-c-page__main"),o.setAttribute("role","main"),l.createElement(c.Route,r({},n))};t.Routes=function(){return l.createElement(c.Switch,null,u.map((function(e){return l.createElement(s,{key:e.path,rootClass:e.rootClass,component:e.component,path:e.path})})),l.createElement(c.Redirect,{to:"/list"}))}},470:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(1),a=n(122),l=n(299),c=n(126),u=n(239),s=n(617),d=n(291),f=n(738),p=n(739),m=n(309),h=n(310),v=n(338),y=n(339),g=n(238),b=n(127);t.default=function(e){var t,n=i.useState({isOpen:!1}),r=n[0],_=n[1],E=i.useState(void 0),O=E[0],P=E[1],C=m.usePolicyFilter(),S=v.useSort(),w=h.usePolicyPage(C.debouncedFilters,void 0,S.sortBy),A=c.useGetPoliciesQuery(w.page,!1),j=o.useContext(d.RbacContext),I=j.canReadAll,M=j.canWriteAll,k=y.usePolicyRows(A.payload),T=A.query,F=w.changePage,x=w.currentPage,N=i.useCallback((function(e){var t,n;e&&(T(),(null===(t=O)||void 0===t?void 0:t.length)===(null===(n=A.payload)||void 0===n?void 0:n.length)&&F(void 0,1===x?1:x-1)),P(void 0)}),[T,P,F,x,O,A.payload]),D=i.useCallback((function(e){var t;return null===(t=A.payload)||void 0===t?void 0:t.find((function(t){return t.id===e}))}),[A.payload]),R=i.useMemo((function(){return M?[{title:"Edit",onClick:function(e,t,n){var r=D(n.id);r&&_({isOpen:!0,template:r,showCreateStep:!1})}},{title:"Duplicate",onClick:function(e,t,n){var r=D(n.id);r&&_({isOpen:!0,template:g.makeCopyOfPolicy(r),showCreateStep:!1})}},{title:"Delete",onClick:function(e,t,n){var r=D(n.id);r&&P([r])}}]:[]}),[M,P,D]);i.useEffect((function(){I&&T()}),[I,T]);var V=i.useCallback((function(){_({isOpen:!0,showCreateStep:!0,template:void 0})}),[_]),B=i.useCallback((function(e){e&&T(),_({isOpen:!1})}),[_,T]),L=i.useMemo((function(){return f.policyTableError(I,{clearAllFiltersAndTryAgain:function(){C.setFilters[b.PolicyFilterColumn.NAME](""),C.setFilters[b.PolicyFilterColumn.DESCRIPTION](""),C.setFilters[b.PolicyFilterColumn.IS_ACTIVE]({disabled:!1,enabled:!1}),F(void 0,1)},refreshPage:function(){window.location.reload()},tryAgain:function(){T()}},A.error,A.status)}),[I,A.error,A.status,C.setFilters,F,T]),z=i.useCallback((function(){return P(k.rows.filter((function(e){return e.isSelected})))}),[k,P]);return i.createElement(i.Fragment,null,i.createElement(a.PageHeader,null,i.createElement(a.PageHeaderTitle,{title:"Custom policies"})),i.createElement(a.Main,null,i.createElement(a.Section,null,i.createElement(u.PolicyToolbar,{onCreatePolicy:M?V:void 0,onDeletePolicy:M?z:void 0,onPaginationChanged:w.changePage,onPaginationSizeChanged:w.changeItemsPerPage,onSelectionChanged:k.onSelectionChanged,selectedCount:k.selectionCount,page:w.currentPage,pageCount:null===(t=A.payload)||void 0===t?void 0:t.length,perPage:w.itemsPerPage,showPerPageOptions:!0,filterElements:C.filters,setFilterElements:C.setFilters,clearFilters:C.clearFilterHandler,count:A.count}),i.createElement(l.PolicyTable,{policies:k.rows,onCollapse:k.onCollapse,onSelect:k.onSelect,actions:R,loading:A.loading,error:L,onSort:S.onSort,sortBy:S.sortBy}))),r.isOpen&&i.createElement(s.CreatePolicyWizard,{isOpen:r.isOpen,close:B,initialValue:r.template,showCreateStep:r.showCreateStep}),i.createElement(p.DeletePolicy,{onClose:N,policies:O}))}},598:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(49),l=n(21),c=n(599),u=n(600),s=n(601),d=i(n(125)),f=n(602),p=n(610),m=a.style({margin:12}),h=a.style({maxWidth:800,marginBottom:12}),v=a.style({marginBottom:12}),y=a.style(r(r({backgroundColor:d.GlobalBackgroundColorLight300},f.padding(18,14)),{margin:5}));t.ExpandedContent=function(e){return o.createElement(l.Stack,{className:m},e.description&&o.createElement(l.StackItem,{className:h},o.createElement(c.Description,{description:e.description})),o.createElement(l.StackItem,{className:v},o.createElement(u.Dates,{updated:e.updated,created:e.created})),o.createElement(l.StackItem,null,o.createElement(l.Grid,null,o.createElement(l.GridItem,{className:y,span:6},o.createElement(s.Conditions,{conditions:e.conditions})),o.createElement(l.GridItem,{className:y,span:6},o.createElement(p.Actions,{actions:e.actions})))))}},599:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(21);t.Description=function(e){return i.createElement(i.Fragment,null,i.createElement(o.Title,{size:o.TitleSize.md},"Description"),i.createElement(o.Text,null," ",e.description," "))}},600:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(21),a=n(744);t.Dates=function(e){return i.createElement(i.Fragment,null,i.createElement(o.Text,null,"Last updated ",a.format(e.updated,"dd MMM yyyy")," | Created ",a.format(e.created,"dd MMM yyyy")))}},601:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(21),a=n(49).style({marginBottom:5});t.Conditions=function(e){return i.createElement(i.Fragment,null,i.createElement(o.Title,{className:a,size:o.TitleSize.md},"Conditions"),i.createElement(o.Text,null,e.conditions))}},610:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(21),a=n(49),l=n(75),c=n(84),u=n(85),s=n(306),d=n(237),f=a.style({marginBottom:5}),p=a.style({marginBottom:5,marginLeft:10}),m=a.style({marginBottom:10,marginTop:10,marginLeft:10}),h=a.style({marginLeft:25,marginBottom:8,marginTop:8}),v=function(e){return i.createElement(o.StackItem,{className:m},i.createElement(e.icon,null),i.createElement(o.Title,{className:p,size:o.TitleSize.md},e.title),e.children&&i.createElement("div",{className:h},e.children))};t.Actions=function(e){return i.createElement(i.Fragment,null,i.createElement(o.Stack,null,i.createElement(o.StackItem,null,i.createElement(o.Title,{className:f,size:o.TitleSize.md},"Run Actions")),0===e.actions.length?i.createElement(o.Text,null," ",c.Messages.tables.policy.emptyState.noActions," "):function(e){var t=[];for(var n in e){var r=e[n];switch(r.type){case l.ActionType.EMAIL:t.push(i.createElement(i.Fragment,{key:n},i.createElement(v,{title:"Send Email",icon:d.ActionEmailIcon})));break;case l.ActionType.WEBHOOK:t.push(i.createElement(i.Fragment,{key:n},i.createElement(v,{title:"Send to Hook",icon:d.ActionWebhookIcon})));break;default:u.assertNever(r)}}return s.join(t,o.Divider)}(e.actions)))}},611:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMAIL="email",e.WEBHOOK="webhook"}(t.ActionType||(t.ActionType={}))},612:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(75),a=n(85),l=n(21),c=n(49),u=n(237),s=c.style({borderRadius:3}),d=c.style({marginRight:5}),f=c.style({minWidth:145});t.ActionsCell=function(e){var t=e.actions.slice(0,4),n=e.actions.slice(4),r=t.map((function(e,t){var n;switch(e.type){case o.ActionType.EMAIL:n=i.createElement(u.ActionEmailIcon,null);break;case o.ActionType.WEBHOOK:n=i.createElement(u.ActionWebhookIcon,null);break;default:a.assertNever(e)}return i.createElement(l.SplitItem,{key:t,className:d},n)}));return n.length>0&&r.push(i.createElement(l.SplitItem,{key:"remaining",className:d},i.createElement(l.Badge,{className:s,isRead:!0},n.length+" more"))),i.createElement(l.Split,{className:f},r)}},613:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=function(e,t,n){return 200===t&&e?n(e):void 0};t.useTransformPaginatedQueryResponse=function(e,t){var n=e.payload,i=e.query,l=e.status,c=o.useCallback((function(){return i().then((function(e){return r(r({},e),{payload:a(e.payload,e.status,t)})}))}),[i,t]),u=o.useMemo((function(){return a(n,l,t)}),[t,n,l]);return r(r({},e),{payload:u,query:c})}},616:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(120),l=n(1);t.useBulkMutation=function(e){var t=l.useContext(a.ClientContext).query,n=l.useRef(!0),c=l.useRef(),u=l.useState({loading:!1,responses:[]}),s=u[0],d=u[1],f=l.useCallback((function(){c.current&&c.current.abort()}),[c]);l.useEffect((function(){return n.current=!0,function(){n.current=!1,f()}}),[f]);var p=l.useCallback((function(a){return i(void 0,void 0,void 0,(function(){var i,l,u,s;return o(this,(function(o){switch(o.label){case 0:return n.current?(i="AbortController"in window?new AbortController:void 0,l=a.map((function(t){return e(t)})),u=i?i.signal:void 0,l.forEach((function(e){return e.signal=e.signal||u})),c.current&&c.current.abort(),c.current=i,d((function(e){return r(r({},e),{loading:!0})})),[4,Promise.all(l.map((function(e){return t(e)})).map((function(e){return e.catch((function(e){return e}))})))]):[2,Array(a.length).map((function(){return{error:!1}}))];case 1:return s=o.sent(),n.current&&d({loading:!1,responses:s.map((function(e,t){if(!e.errorObject||"AbortError"!==e.errorObject.name)return l[t].signal===u&&c.current===i&&(c.current=void 0,d((function(e){return r(r({},e),{loading:!1})}))),e}))}),[2,s]}}))}))}),[t,e]),m=l.useCallback((function(){d({loading:!1,responses:[]})}),[d]);return s.responses.forEach((function(e){var t;if((null===(t=e)||void 0===t?void 0:t.errorObject)&&e.errorObject instanceof a.QueryError)throw e.errorObject})),{abort:f,loading:s.loading,mutate:p,reset:m,responses:s.responses}}},617:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(618),a=n(126),l=r(n(737)),c=n(341);t.CreatePolicyWizard=function(e){var t=a.useSavePolicyMutation(),n=a.useVerifyPolicyMutation(),r=t.loading||n.loading;return i.createElement(i.Fragment,null,e.isOpen&&i.createElement(o.PolicyWizard,{initialValue:e.initialValue||{},onClose:function(){e.close(!1)},onSave:function(n){return t.mutate(n).then((function(t){var r;switch(t.status){case l.CREATED:case l.OK:return void 0===n.id?c.addSuccessNotification("Created",'Policy "'+n.name+'" created'):c.addSuccessNotification("Saved",'Policy "'+n.name+'" has been updated'),e.close&&e.close(!0),{created:!0};default:return{created:!1,error:(null===(r=t.payload)||void 0===r?void 0:r.msg)||"Unknown Error when trying to "+(void 0===n.id?"create":"update")+" the policy: (Code "+t.status+")"}}}))},onVerify:function(e){return n.mutate(e).then((function(t){var n;return t.status===l.OK?{isValid:!0,policy:e}:{isValid:!1,error:(null===(n=t.payload)||void 0===n?void 0:n.msg)||"Unknown Error when trying to validate: (Code "+t.status+")",policy:e}}))},showCreateStep:e.showCreateStep,isLoading:r}))}},618:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(21),l=n(58),c=n(128),u=n(718),s=n(720),d=n(730),f=n(731),p=n(735),m=n(111),h=n(736),v=function(e,t,n,r,i,o){return!i&&(e===n||(0!==e||!o)&&(t?e<=r:e<=n))},y=function(e,t){return!t&&e},g=function(e){var t=l.useFormikContext(),n=t.validateForm,i=t.handleSubmit;o.useEffect((function(){n()}),[e.currentStep,n]),o.useEffect((function(){e.triggeredAction!==c.WizardActionType.NONE&&i()}),[e.triggeredAction,i]);var u={isLoading:e.isLoading,isFormValid:t.isValid,triggerAction:e.triggerAction,verifyResponse:e.verifyResponse,createResponse:e.createResponse,setVerifyResponse:e.setVerifyResponse},s=function(e,t,n){return e.isValid?e.isValid(t,n):t.isFormValid}(e.steps[e.currentStep],u,t.values);u.isValid=s;var d=e.steps.map((function(t){return r(r({},t),{enableNext:y(s,e.isLoading),canJumpTo:v(t.id,s,e.currentStep,e.maxStep,e.isLoading,e.showCreateStep)})}));return o.createElement(a.Form,null,o.createElement(c.WizardContext.Provider,{value:u},o.createElement(a.Wizard,{isOpen:!0,onSave:function(){e.triggerAction(c.WizardActionType.SAVE)},onClose:e.onClose,steps:d,startAtStep:e.currentStep+1,onNext:e.onMove,onBack:e.onMove,onGoToStep:e.onMove,title:"Add Custom Policy",description:"Custom policies are processed on reception of system profile messages. If condition(s) are met, defined action(s) are triggered.",footer:o.createElement(h.PolicyWizardFooter,{loadingText:"Loading",isLoading:e.isLoading})})))};t.PolicyWizard=function(e){var t=o.useState(0),n=t[0],i=t[1],a=o.useState(0),h=a[0],v=a[1],y=o.useState(c.WizardActionType.NONE),b=y[0],_=y[1],E=o.useState({isValid:!1}),O=E[0],P=E[1],C=o.useState({created:!1}),S=C[0],w=C[1];o.useEffect((function(){var t;(null===(t=e.initialValue)||void 0===t?void 0:t.conditions)&&P({isValid:!0,policy:e.initialValue})}),[e.initialValue]);var A=function(e){var t=[];return e&&t.push(u.createCustomPolicyStep({hideBackButton:!0})),t.push(s.createDetailsStep({hideBackButton:!0}),d.createConditionsStep(),f.createActionsStep(),p.createReviewStep({nextButtonText:"Finish"})),t.map((function(e,t){return r(r({},e),{id:t})}))}(e.showCreateStep);return o.createElement(o.Fragment,null,o.createElement(l.Formik,{initialValues:e.initialValue,initialStatus:{},validateOnMount:!1,validationSchema:A[n].validationSchema,onSubmit:function(t,n){n.setSubmitting(!1),_(c.WizardActionType.NONE);var r=m.PolicyFormSchema.cast(t);switch(n.setValues(r),b){case c.WizardActionType.SAVE:e.onSave(r).then(w);break;case c.WizardActionType.VALIDATE_CONDITION:case c.WizardActionType.NONE:break;default:throw new Error("Unexpected action")}},validate:function(t){var n=m.PolicyFormSchema.cast(t);switch(b){case c.WizardActionType.SAVE:case c.WizardActionType.NONE:break;case c.WizardActionType.VALIDATE_CONDITION:_(c.WizardActionType.NONE),e.onVerify(n).then(P)}}},o.createElement(g,{currentStep:n,maxStep:h,isLoading:e.isLoading,triggeredAction:b,triggerAction:_,steps:A,verifyResponse:O,createResponse:S,setVerifyResponse:P,onClose:e.onClose,onMove:function(e,t){var n=e.id;i(n),n>h&&v(n)},showCreateStep:e.showCreateStep})))}},718:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(21),l=n(128),c=n(84),u=n(719),s=n(58),d=i(n(86)),f=n(1),p=n(238),m=n(138),h=function(){var e=o.useState(!1),t=e[0],n=e[1],r=o.useState(),i=r[0],d=r[1],h=s.useFormikContext(),v=h.validate,y=h.validateField,g=h.setValues,b=h.setFieldValue,_=f.useContext(l.WizardContext).setVerifyResponse,E=o.useCallback((function(){n(!1),d(void 0)}),[n,d]),O=o.useCallback((function(){n(!0)}),[n]);o.useEffect((function(){i&&(g(i),_({policy:i,isValid:!0})),b("isValid",!t||!!i),v&&y("isValid")}),[t,i,v,y,b,g,_]);var P=o.useCallback((function(e){d(p.makeCopyOfPolicy(e))}),[d]);return o.createElement(o.Fragment,null,o.createElement(m.Form,null,o.createElement(a.Title,{headingLevel:"h4",size:"xl"},c.Messages.wizards.policy.createPolicy.title),o.createElement("span",null,"Define a new custom policy:"),o.createElement(a.Radio,{isChecked:!t,name:"new-custom-policy",value:"from-scratch",id:"create-new-custom-policy-from-scratch",onChange:E,label:"From scratch"}),o.createElement(a.Radio,{isChecked:t,name:"new-custom-policy",value:"as-copy",id:"create-new-custom-policy-as-copy",onChange:O,label:"As a copy of existing Custom Policy"}),t&&o.createElement(o.Fragment,null,o.createElement(u.CopyFromPolicy,{onSelect:P}))))};t.createCustomPolicyStep=function(e){return r({name:c.Messages.wizards.policy.createPolicy.title,component:o.createElement(h,null),validationSchema:d.object().shape({isValid:d.boolean().oneOf([!0])})},e)}},719:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(239),a=n(307),l=n(299),c=n(126),u=n(338),s=n(339);t.CopyFromPolicy=function(e){var t,n=a.usePolicyFilter(),r=a.usePolicyPage(n.debouncedFilters,5),d=u.useSort(),f=c.useGetPoliciesQuery(r.page,!0),p=s.usePolicyRows(f.payload),m=e.onSelect,h=f.payload,v=p.onSelect,y=i.useCallback((function(e,t,n){v(e,t,n),h&&n&&m(h[t])}),[m,v,h]);return i.createElement(i.Fragment,null,i.createElement(o.PolicyToolbar,{onPaginationChanged:r.changePage,page:r.currentPage,pageCount:null===(t=f.payload)||void 0===t?void 0:t.length,perPage:r.itemsPerPage,showPerPageOptions:!1,hideActions:!0,hideBulkSelect:!0,filterElements:n.filters,setFilterElements:n.setFilters,clearFilters:n.clearFilterHandler,count:f.count}),i.createElement(l.PolicyTable,{columnsToShow:["radioSelect","name","actions"],policies:p.rows,onSelect:y,loading:f.loading,loadingRowCount:5,onSort:d.onSort,sortBy:d.sortBy}))}},720:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(21),l=n(246),c=n(111),u=n(84),s=n(138),d=function(){return o.createElement(s.Form,null,o.createElement(a.Title,{headingLevel:"h4",size:"xl"},u.Messages.wizards.policy.details.title),o.createElement(l.FormTextInput,{isRequired:!0,label:"Name",type:"text",name:"name",id:"name"}),o.createElement(l.FormTextArea,{label:"Description",type:"text",id:"description",name:"description",resizeOrientation:"vertical"}))};t.createDetailsStep=function(e){return r({name:u.Messages.wizards.policy.details.title,component:o.createElement(d,null),validationSchema:c.PolicyFormDetails},e)}},721:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(58),l=n(21),c=n(110);t.Checkbox=function(e){var t=a.useField(r(r({},e),{type:"checkbox"})),n=t[0],i=t[1],u=!i.error||!i.touched;return o.createElement(l.FormGroup,{fieldId:e.id,helperTextInvalid:i.error,isRequired:e.isRequired,isValid:u,label:e.label},o.createElement(l.Checkbox,r({isChecked:n.checked},e,n,{isValid:u,onChange:c.onChangePFAdapter(n)})))}},722:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(58),l=n(21),c=n(110);t.FormSelect=function(e){var t=a.useField(r({},e)),n=t[0],i=t[1],u=!i.error||!i.touched;return o.createElement(l.FormGroup,{fieldId:e.id,helperTextInvalid:i.error,isRequired:e.isRequired,isValid:u,label:e.label},o.createElement(l.FormSelect,r({},e,n,{onChange:c.onChangePFAdapter(n),isValid:u}),e.children))}},723:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1)),l=n(58),c=n(21),u=n(110);t.Switch=function(e){var t=l.useField(r(r({},e),{type:"checkbox"})),n=t[0],o=t[1],s=e.labelOn,d=i(e,["labelOn"]),f=!o.error||!o.touched;return a.createElement(c.FormGroup,{fieldId:e.id,helperTextInvalid:o.error,isRequired:e.isRequired,isValid:f,label:e.label},a.createElement("div",null,a.createElement(c.Switch,r({isChecked:n.checked},d,n,{label:s,onChange:u.onChangePFAdapter(n)}))))}},724:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(58),l=n(21),c=n(110);t.FormTextInput=function(e){var t=a.useField(r({},e)),n=t[0],i=t[1],u=!i.error||!i.touched;return o.createElement(l.FormGroup,{fieldId:e.id,helperTextInvalid:i.error,isRequired:e.isRequired,isValid:u,label:e.label},o.createElement(l.TextInput,r({},e,n,{value:n.value||"",isValid:u,onChange:c.onChangePFAdapter(n)})))}},725:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(58),l=n(21),c=n(110);t.FormTextArea=function(e){var t=a.useField(r({},e)),n=t[0],i=t[1],u=!i.error||!i.touched;return o.createElement(l.FormGroup,{fieldId:e.id,helperTextInvalid:i.error,isRequired:e.isRequired,isValid:u,label:e.label},o.createElement(l.TextArea,r({},e,n,{value:n.value||"",isValid:u,onChange:c.onChangePFAdapter(n)})))}},726:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(727);t.ActionSchema=r.ActionSchema;var i=n(728);t.ActionEmailSchema=i.ActionEmailSchema;var o=n(729);t.ActionWebhookSchema=o.ActionWebhookSchema},727:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(86));t.ActionSchema=i.object().shape({type:i.mixed().required("Specify the action type")})},728:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(86));t.ActionEmailSchema=i.object().shape({type:i.mixed()})},729:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(86));t.ActionWebhookSchema=i.object().shape({type:i.mixed()})},730:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(21),l=n(90),c=n(246),u=n(128),s=n(111),d=n(58),f=n(49),p=n(125),m=n(84),h=n(306),v=n(138),y=f.style({marginTop:"auto",marginBottom:"auto",marginLeft:8}),g=f.style({width:"100%"}),b=f.style({marginTop:12}),_=f.style({color:p.GlobalDangerColor100}),E=f.style({color:p.GlobalSuccessColor200}),O=f.style({fontWeight:"bold"}),P=function(e){return e.loading?o.createElement(a.Split,null,o.createElement(a.SplitItem,null,o.createElement("span",{className:y},o.createElement(a.Spinner,{size:"md"})),o.createElement("span",{className:y}," ",m.Messages.wizards.policy.conditions.validating," "))):e.changed?null:e.isValid?o.createElement(a.Split,null,o.createElement(a.SplitItem,null,o.createElement(l.CheckCircleIcon,{className:y,color:p.GlobalSuccessColor200})),o.createElement(a.SplitItem,null,o.createElement("div",{className:h.joinClasses(y,E,O)},m.Messages.wizards.policy.conditions.valid))):e.error?o.createElement(a.Stack,null,o.createElement(a.StackItem,null,o.createElement(a.Split,null,o.createElement(a.SplitItem,null,o.createElement(l.ExclamationCircleIcon,{className:y,color:p.GlobalDangerColor100})),o.createElement(a.SplitItem,null,o.createElement("div",{className:h.joinClasses(y,_,O)},m.Messages.wizards.policy.conditions.invalid)))),o.createElement(a.StackItem,null,o.createElement("div",{className:h.joinClasses(y,_)}," ",e.error," "))):null},C=function(){var e,t=o.useContext(u.WizardContext),n=d.useFormikContext().values;return o.createElement(v.Form,null,o.createElement(a.Title,{headingLevel:"h4",size:"xl"},m.Messages.wizards.policy.conditions.title),o.createElement(c.FormTextInput,{isRequired:!0,label:"Condition text",type:"text",id:"conditions",name:"conditions",placeholder:'arch = "x86_64"'}),n.conditions&&""!==n.conditions&&o.createElement(a.Stack,{className:g},o.createElement(a.StackItem,null,o.createElement(a.Button,{onClick:function(){t.triggerAction(u.WizardActionType.VALIDATE_CONDITION)},isDisabled:t.isLoading,variant:a.ButtonVariant.secondary},"Validate condition")),o.createElement(a.StackItem,{className:b},o.createElement(P,r({loading:t.isLoading},t.verifyResponse,{changed:(null===(e=t.verifyResponse.policy)||void 0===e?void 0:e.conditions)!==n.conditions})))))};t.createConditionsStep=function(e){return r({name:m.Messages.wizards.policy.conditions.title,component:o.createElement(C,null),validationSchema:s.PolicyFormConditions,isValid:function(e,t){var n;return t.conditions===(null===(n=e.verifyResponse.policy)||void 0===n?void 0:n.conditions)&&e.verifyResponse.isValid}},e)}},731:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(1)),c=n(21),u=n(111),s=n(58),d=n(340),f=n(84),p=n(75),m=n(247),h=n(170),v=n(90),y=function(e){var t=l.useState(!1),n=t[0],r=t[1],a=Object.values(p.ActionType).filter((function(e){return i(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,m.getInsights()];case 1:return[2,t.sent().chrome.isBeta()||e!==p.ActionType.WEBHOOK]}}))}))})).map((function(t){return l.createElement(c.DropdownItem,{key:t,onClick:function(){return function(t){e.addType(t),r(!1)}(t)},isDisabled:!e.isTypeEnabled(t)},c.capitalize(t))}));return l.createElement(c.Dropdown,{isOpen:n,dropdownItems:a,isPlain:!0,toggle:l.createElement(h.Toggle,{isPlain:!0,onToggle:function(e){return r(e)},id:"add-action-toggle"},l.createElement(c.Button,{component:"a",variant:c.ButtonVariant.link,isInline:!0}," Add trigger actions ",l.createElement(v.AngleDownIcon,null)," "))})},g=function(){var e,t=s.useFormikContext(),n=t.validateForm,r=null===(e=t.values.actions)||void 0===e?void 0:e.length;return l.useEffect((function(){n()}),[n,r]),l.createElement(l.Fragment,null,l.createElement(c.Title,{headingLevel:"h4",size:"xl"},f.Messages.wizards.policy.actions.title),l.createElement(s.FieldArray,{name:"actions"},(function(e){return l.createElement(l.Fragment,null,l.createElement(y,{isTypeEnabled:function(t){var n;return 0===((null===(n=e.form.values.actions)||void 0===n?void 0:n.filter((function(e){return e.type===t})))||[]).length},addType:function(t){e.push({type:t})}}),l.createElement(d.ActionsForm,{id:"actions",name:"actions",actions:e.form.values.actions,arrayHelpers:e}))})))};t.createActionsStep=function(e){return r({name:f.Messages.wizards.policy.actions.title,component:l.createElement(g,null),validationSchema:u.PolicyFormActions},e)}},732:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(75),l=n(733),c=n(734);t.ActionForm=function(e){var t,n;switch((null===(t=e.action)||void 0===t?void 0:t.type)||void 0){case a.ActionType.EMAIL:return o.createElement(l.ActionEmailForm,r({},e));case a.ActionType.WEBHOOK:return o.createElement(c.ActionWebhookForm,r({},e));case void 0:return null;default:throw new Error("Unexpected action type:["+(null===(n=e.action)||void 0===n?void 0:n.type)+"]")}}},733:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(21);t.ActionEmailForm=function(e){return i.createElement(o.Text,null,"An email will be sent to all users on this account with access to Custom Policies according to their email preferences.")}},734:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionWebhookForm=function(e){return null}},735:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(58),l=n(128),c=n(246),u=n(21),s=n(340),d=n(111),f=n(1),p=n(125),m=n(90),h=n(49),v=n(84),y=n(138),g=h.style({marginRight:5}),b=function(){var e=f.useContext(l.WizardContext);return o.createElement(o.Fragment,null,o.createElement(y.Form,null,o.createElement(u.Title,{headingLevel:"h4",size:"xl"},v.Messages.wizards.policy.review.title),o.createElement(c.Switch,{isDisabled:e.isLoading,type:"checkbox",id:"isEnabled",name:"isEnabled",label:"Activate Policy?"}),o.createElement(c.FormTextInput,{isReadOnly:!0,label:"Name",type:"text",name:"name",id:"name"}),o.createElement(c.FormTextInput,{isReadOnly:!0,label:"Description",type:"text",id:"description",name:"description"}),o.createElement(c.FormTextInput,{isReadOnly:!0,label:"Condition text",type:"text",id:"conditions",name:"conditions"}),o.createElement(a.FieldArray,{name:"actions"},(function(e){return o.createElement(s.ActionsForm,{id:"actions",name:"actions",isReadOnly:!0,actions:e.form.values.actions,arrayHelpers:e})})),e.createResponse.error&&o.createElement(u.Split,null,o.createElement(u.SplitItem,null,o.createElement(m.ExclamationCircleIcon,{className:g,color:p.GlobalDangerColor100})),o.createElement(u.SplitItem,null," ",e.createResponse.error," "))))};t.createReviewStep=function(e){return r({name:v.Messages.wizards.policy.review.title,component:o.createElement(b,null),validationSchema:d.PolicyFormSchema},e)}},736:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(21),a=n(200),l=n(49).style({marginTop:"auto",marginBottom:14});t.PolicyWizardFooter=function(e){return i.createElement(o.WizardFooter,null,i.createElement(o.WizardContextConsumer,null,(function(t){var n=t;return i.createElement(i.Fragment,null,i.createElement(o.Button,{variant:o.ButtonVariant.primary,type:"submit",onClick:n.onNext,isDisabled:e.isLoading||!n.activeStep.enableNext},n.activeStep.nextButtonText||"Next"),!n.activeStep.hideBackButton&&i.createElement(o.Button,{variant:o.ButtonVariant.secondary,onClick:n.onBack,isDisabled:0===n.activeStep.id||e.isLoading},"Back"),!n.activeStep.hideCancelButton&&i.createElement(o.Button,{variant:o.ButtonVariant.link,onClick:n.onClose,isDisabled:e.isLoading},"Cancel"),e.isLoading&&i.createElement("div",{className:l},e.loadingText,"  ",i.createElement(a.Spinner,{size:"md"})))})))}},738:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(90),i=n(125),o={icon:r.ExclamationCircleIcon,iconColor:i.GlobalDangerColor200,title:"No permission to view this page",content:"You do not have permission to view this page"};t.policyTableError=function(e,t,n,a){if(!e)return o;if(n)switch(a){case 404:return{icon:r.ExclamationCircleIcon,iconColor:i.GlobalDangerColor200,title:"Not found",content:"The request did not provide any results, try to remove some filters and try again",action:t.clearAllFiltersAndTryAgain,actionLabel:"Clear all filters"};case 401:return{icon:r.ExclamationCircleIcon,iconColor:i.GlobalDangerColor200,title:"Refresh your browser",content:"Your session expired while using the application",action:t.refreshPage,actionLabel:"Reload page"};case 403:return o;case 500:return{icon:r.ExclamationCircleIcon,iconColor:i.GlobalDangerColor200,title:"Internal server error",content:"The server was unable to process the request, please try again.",action:t.tryAgain,actionLabel:"Try again"};default:return{icon:r.ExclamationCircleIcon,iconColor:i.GlobalDangerColor200,title:"Unable to connect",content:"There was an error retrieving data. Check your connection and try again.",action:t.tryAgain,actionLabel:"Try again"}}}},739:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(21),a=n(126),l=n(200),c=n(341);t.DeletePolicy=function(e){var t=e.policies,n=e.onClose,r=a.useBulkDeletePolicyMutation(),u=r.mutate,s=r.loading,d=i.useCallback((function(){n(!1)}),[n]),f=i.useCallback((function(){if(!t)throw Error("Policy has not been set");u(t).then((function(e){var r=e.filter((function(e){var t;return null===(t=e)||void 0===t?void 0:t.error})).map((function(e){var t;return null===(t=e)||void 0===t?void 0:t.errorObject}));r.length>0&&(1===r.length?c.addDangerNotification("Error deleting policy","There was an error when trying to delete a policy."):c.addDangerNotification("Error deleting policies","There was an error when trying to delete "+r.length+" policy.")),r.length!==t.length&&n(!0)}))}),[u,t,n]),p=i.useMemo((function(){return[i.createElement(o.Button,{key:"confirm",variant:o.ButtonVariant.danger,onClick:f,isDisabled:s},s?i.createElement(l.Spinner,{size:"md"}):"Delete"),i.createElement(o.Button,{key:"cancel",variant:o.ButtonVariant.link,onClick:d,isDisabled:s},"Cancel")]}),[s,d,f]);return e.policies&&0!==e.policies.length?i.createElement(o.Modal,{title:"Delete "+(1===e.policies.length?"policy":"policies"),isOpen:!0,onClose:d,actions:p,isFooterLeftAligned:!0,isSmall:!0},1===e.policies.length?i.createElement(i.Fragment,null,"Do you want to delete the policy: ",e.policies[0].name," ?"):i.createElement(i.Fragment,null,"Do you want to delete the selected(",e.policies.length,") policies?")):null}},740:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=n(122),a=n(21);t.AppSkeleton=function(){return i.createElement(i.Fragment,null,i.createElement(o.PageHeader,null,i.createElement("div",{className:"pf-c-content"},i.createElement(o.PageHeaderTitle,{title:i.createElement(o.Skeleton,{size:"sm"})}))),i.createElement(o.Main,null,i.createElement(o.Section,null,i.createElement(a.Bullseye,null,i.createElement(o.Spinner,{centered:!0})))))}},741:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(120),i=n(247);t.client=r.createClient({requestInterceptors:[function(e){return function(e){return i.getInsights().then((function(e){return e.chrome.auth.getUser()})).then((function(){return e}))}}]})},75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(611);t.ActionType=r.ActionType},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Messages={tables:{policy:{title:"Custom Policies",emptyState:{neverRun:"Never",noActions:"No actions configured.",noConditions:"No conditions configured.",noDescription:"--"}}},wizards:{policy:{actions:{title:"Actions"},conditions:{title:"Conditions",valid:"Valid condition",invalid:"Invalid condition",validating:"Validating…"},createPolicy:{title:"Create Custom Policy"},details:{title:"Details"},review:{title:"Review"}}}}},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNever=function(e){return e}}});
//# sourceMappingURL=App.js.map